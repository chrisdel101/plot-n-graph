(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(374)},157:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),o=a(25),n=a.n(o),l=(a(157),a(15)),i=a(16),c=a(20),u=a(17),h=a(19),p=(a(94),a(21)),d=a(43),m=a(29),g=a(44),v=a.n(g),f=a(72),C=a(28),b=a(57),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={allColored:!1,legColored:!1,completeColored:!1,allColorsCounter:0,legColorsCounter:0,completedColorsCounter:0,previousLegIndex:""},a.BoxMarkup=a.BoxMarkup.bind(Object(C.a)(Object(C.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"renderBoxes",value:function(e){var t=this;if(this.props.toRender)return this.props.toRender.map(function(e,a){var r;switch(t.props.type){case"all":t.state.allColored?t.state.allColored&&(r=t.allColorsAddLogic(a)):r=t.allColorsRemoveLogic(a);break;case"leg":t.state.legColored?t.state.legColored&&(r=t.legColorsAddLogic(a)):r=t.legColorsRemoveLogic(a);break;case"complete":t.state.completeColored?t.state.completeColored&&(r=t.completedColorsAddLogic(a)):r=t.completedColorsRemoveLogic(a);break;default:r=s.a.createElement(t.BoxMarkup,{key:a,id:a})}return r})}},{key:"toggleColor",value:function(e){"all"===e?(this.state.allColored=!this.state.allColored,console.log("opposite",this.state.allColored),this.setState({allColored:this.state.allColored})):"leg"===e?(this.state.legColored=!this.state.legColored,console.log("opposite",this.state.legColored),this.setState({legColored:this.state.legColored})):"complete"===e&&(this.state.completeColored=!this.state.completeColored,console.log("opposite",this.state.completeColored),this.setState({completeColored:this.state.completeColored}))}},{key:"allColorsAddLogic",value:function(e){var t=this.props.stopsColor,a=!!(t&&t.length&&t.includes(e));return s.a.createElement(this.BoxMarkup,{hasStopColor:a,key:e,id:e})}},{key:"allColorsRemoveLogic",value:function(e){var t=this.props.stopsColor,a=function(){if(t&&t.includes(e))return!1}();return s.a.createElement(this.BoxMarkup,{hasStopColor:a,key:e,id:e})}},{key:"legColorsAddLogic",value:function(e){var t=this.props.legsColor,a=!!((t=t.leg)&&t.length&&t.includes(e));return s.a.createElement(this.BoxMarkup,{hasLegColor:a,key:e,id:e})}},{key:"legColorsRemoveLogic",value:function(e){var t=this.props.legsColor;t=t.leg;var a=function(){if(t&&t.includes(e))return!1}();return s.a.createElement(this.BoxMarkup,{hasLegColor:a,key:e,id:e})}},{key:"completedColorsAddLogic",value:function(e){var t=this.props.completeColor,a=!!(t&&t.length&&t.includes(e));return s.a.createElement(this.BoxMarkup,{hasCompletionColor:a,key:e,id:e})}},{key:"completedColorsRemoveLogic",value:function(e){var t=this.props.completeColor,a=function(){if(t&&t.includes(e))return!1}();return s.a.createElement(this.BoxMarkup,{hasCompletionColor:a,key:e,id:e})}},{key:"BoxMarkup",value:function(e){var t="id".concat(e.id);return s.a.createElement("div",{id:t,key:e.id,className:"box ".concat(e.hasStopColor?"stop-color".concat(this.props.selectedDriver):""," ").concat(e.hasLegColor?"leg-color".concat(this.props.selectedDriver):""," ").concat(e.hasCompletionColor?"complete-color".concat(this.props.selectedDriver):"")})}},{key:"componentDidUpdate",value:function(e,t){this.props.allColorsCounter!==e.allColorsCounter&&(this.state.allColorsCounter!==this.props.allColorsCounter?(console.log("toggle"),this.toggleColor("all"),this.setState({allColorsCounter:this.props.allColorsCounter})):console.error("And error in the all index logic")),this.props.legColorsCounter!==e.legColorsCounter&&(this.props.legsColor.index!==this.state.previousLegIndex?(console.log("change leg"),this.setState({previousLegIndex:this.props.legsColor.index,legColored:!0})):this.props.legsColor.index===this.state.previousLegIndex?(console.log("toggle leg"),this.toggleColor("leg")):console.error("An error in the leg index logic")),this.props.completedColorsCounter!==e.completedColorsCounter&&(console.log(this.props),this.state.completedColorsCounter!==this.props.completedColorsCounter?(console.log("toggle"),this.toggleColor("complete"),this.setState({completedColorsCounter:this.props.completedColorsCounter})):console.error("An error in the complete index logic"))}},{key:"render",value:function(){return this.props.toRender&&this.props.toRender.length?s.a.createElement(s.a.Fragment,null,this.renderBoxes()):s.a.createElement("div",null,"No Boxes yet!")}}]),t}(s.a.Component),S=a(18),x=a(134),k=a.n(x),E=a(91),O=a.n(E);var j=Object(S.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"flex-end"},icon:{margin:2*e.spacing.unit,color:"#A0A0A0\t",fontSize:"12px",position:"absolute",right:"-7px",top:"0"},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:k.a}}}})(function(e){var t=e.classes;return"stop"===e.type?s.a.createElement("div",{className:t.root},console.log("stop"),s.a.createElement(O.a,{ref:e.ref,className:"".concat(t.icon," stop-marker"),color:"primary",tabIndex:"-1",style:e.styles},e.strType)):s.a.createElement("div",{className:t.root},s.a.createElement(O.a,{className:"".concat(t.icon," ").concat(e.className),color:"primary",tabIndex:"-1",style:e.style},e.strType))});var A=function(e){return e.coords?e.coords.map(function(t,a){var r,o=(r={},Object(p.a)(r,t.directions.xDir,t.pixels.moveX.toString()+"px"),Object(p.a)(r,t.directions.yDir,t.pixels.moveY.toString()+"px"),r);function n(e){return e.toggleStopNames?"block":"none"}return s.a.createElement(b.a,{key:a},s.a.createElement(b.c,null,function(e){var t=e.ref;return s.a.createElement("div",{ref:t,className:"stop-marker",style:o})}),s.a.createElement(b.b,{placement:"left"},function(t){var r=t.ref,o=t.style,l=t.placement,i=t.arrowProps;return s.a.createElement("div",{ref:r,style:Object(d.a)({},o,Object(p.a)({backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",borderRadius:"5px",marginLeft:"10px",display:n(e)},"marginLeft","-10px")),"data-placement":l},"stop".concat(a+1),s.a.createElement("div",{ref:i.ref,style:i.style}))}))}):null};var N=function(e){var t;if(!e.coords)return null;var a=e.coords,r=e.coords.id,o=(t={},Object(p.a)(t,a.directions.xDir,a.pixels.moveX.toString()+"px"),Object(p.a)(t,a.directions.yDir,a.pixels.moveY.toString()+"px"),Object(p.a)(t,"--driver-color",e.colors[r]),t);return s.a.createElement("div",{className:"".concat(e.show?"show":"hide"," cursor-wrapper icon-wrapper"),style:o},s.a.createElement(j,{className:"cursor",strType:"place"}))},w=a(141),L=a.n(w),I=a(142),T=a.n(I),D=a(143),P=a.n(D),z=a(23),M=a.n(z),X=a(73),Y=a.n(X),_=a(76),R=a.n(_),F=a(74),B=a.n(F),G=a(75),W=a.n(G),H=a(70),q=a.n(H),J=a(50),V=a.n(J),U=a(49),K=a.n(U),Z=a(51),$=a.n(Z),Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={leg:"",labelWidth:0},a.handleChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:n.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("div",{className:t.root},s.a.createElement(K.a,{variant:"outlined",className:t.formControl},s.a.createElement(V.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-native-simple"},"Legs"),s.a.createElement($.a,{native:!0,value:this.props.value,onChange:this.props.onChange,input:s.a.createElement(q.a,{name:"driver"===this.props.type?"driver-select":"color-select",labelWidth:this.state.labelWidth,id:"outlined-age-native-simple"})},s.a.createElement("option",{value:""}),this.props.legs.map(function(t,a){return s.a.createElement("option",{key:a,value:e.state.value},t.legID)}))))}}]),t}(s.a.Component),ee=Object(S.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(Q),te=a(88),ae=a.n(te);var re=Object(S.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"}}})(function(e){var t=e.classes;return s.a.createElement(ae.a,{variant:"contained",type:e.type,size:e.size,color:e.color,className:"".concat(e.type," button ").concat(t.button),"data-number":e.buttonNumber,onClick:e.onClick},e.text)}),se=a(32),oe=a.n(se),ne=function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}},le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(){var e=this;return s.a.createElement("div",{className:"progress-input-wrapper form-child"},s.a.createElement(oe.a,{value:this.props.driverProgressInput,id:"standard-name",label:"Progress",placeholder:"Progres in Percent",className:"".concat(ne.textField," progress-input"),name:"progress-input",onChange:function(t){return e.props.onChange(t)},margin:"normal"}))}},{key:"render",value:function(){var e=this;return this.props.legs?s.a.createElement("div",{className:"legs-container"},s.a.createElement("form",{name:"driver"===this.props.type?"driver-dropdown":"color",onSubmit:function(t){return e.props.onSubmit(t)}},s.a.createElement("label",{className:"form-child"},"driver"===this.props.type?this.props.texts.driverText:this.props.texts.colorText,s.a.createElement(ee,{legs:this.props.legs,value:this.state.value,onChange:this.props.onChange,type:"driver"===this.props.type?"driver":"color"},s.a.createElement("option",null),this.props.legs.map(function(t,a){return s.a.createElement("option",{key:a,value:e.state.value},t.legID)}))),"driver"===this.props.type?this.renderInput():null,s.a.createElement(re,{type:"submit",value:"Submit",size:"large",color:"primary",text:"Toggle Leg"}))):null}}]),t}(s.a.Component),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={formName:a.props.formname},a.handleChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"renderFormType",value:function(e,t){return e.values&&!e.graphSize?s.a.createElement(s.a.Fragment,null,s.a.createElement(oe.a,{id:"standard-name",label:"X-coords",placeholder:"1-200",className:t.textField,value:e.values.x,onChange:e.onChange,margin:"normal",name:"x"}),s.a.createElement(oe.a,{id:"standard-name",label:"Y-coords",placeholder:"1-200",className:t.textField,value:e.values.y,onChange:e.onChange,margin:"normal",name:"y"})):e.values?e.values&&e.graphSize?s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{id:"graph-size-label"},"Graph Size"),s.a.createElement(oe.a,{id:"graph-size-form-x",label:"X length",placeholder:"1-100",className:t.textField,onChange:e.onChange,margin:"normal",name:"x"}),s.a.createElement(oe.a,{id:"graph-size-form-y",label:"Y height",placeholder:"1-100",className:t.textField,onChange:e.onChange,margin:"normal",name:"y"})):void 0:s.a.createElement(s.a.Fragment,null,s.a.createElement(oe.a,{id:"standard-name",label:"X-coords",placeholder:"1-200",className:t.textField,onChange:e.onChange,margin:"normal",name:"x"}),s.a.createElement(oe.a,{id:"standard-name",label:"Y-coords",placeholder:"1-200",className:t.textField,onChange:e.onChange,margin:"normal",name:"y"}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("form",{className:"".concat(t.container," ").concat(this.props.addedClass," material-form"),noValidate:!0,autoComplete:"off",name:this.state.formName,onSubmit:function(t){return e.props.onSubmit(t)}},this.renderFormType(this.props,t),s.a.createElement(re,{size:this.props.buttonsize,color:"primary",type:"primary-button",text:"Submit",buttonNumber:3}))}}]),t}(s.a.Component),ce=Object(S.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}})(ie),ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={expanded:null},a.handleChange=function(e){return function(t,r){a.setState({expanded:!!r&&e})}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.expanded;return s.a.createElement("div",{className:e.root},s.a.createElement(Y.a,{className:"top-panel",expanded:"panel1"===t,onChange:this.handleChange("panel1")},s.a.createElement(B.a,{expandIcon:s.a.createElement(W.a,null)},s.a.createElement(M.a,{className:e.heading},"Set Cursor Coordinates"),s.a.createElement(M.a,{className:e.secondaryHeading},"Set cursor place on grid.")),s.a.createElement(R.a,null,s.a.createElement(ce,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,values:this.props.values,formname:"driver-form",buttonsize:"large"}),s.a.createElement(M.a,null))),s.a.createElement(Y.a,{className:"top-panel",expanded:"panel2"===t,onChange:this.handleChange("panel2")},s.a.createElement(B.a,{expandIcon:s.a.createElement(W.a,null)},s.a.createElement(M.a,{className:e.heading},"Set Cursor Leg"),s.a.createElement(M.a,{className:e.secondaryHeading},"Set cursor inside legs at progress points.")),s.a.createElement(R.a,{className:"second-panel"},s.a.createElement(le,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,legs:this.props.legs?this.props.legs:null,type:"driver",texts:this.props.texts}),s.a.createElement(M.a,null))),s.a.createElement(Y.a,{className:"top-panel",expanded:"panel3"===t,onChange:this.handleChange("panel3")},s.a.createElement(B.a,{expandIcon:s.a.createElement(W.a,null)},s.a.createElement(M.a,{className:e.heading},"Show Legs & Progress"),s.a.createElement(M.a,{className:e.secondaryHeading},"Highlight completed parts, and legs.")),s.a.createElement(R.a,{className:"third-panel"},s.a.createElement(le,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,legs:this.props.legs?this.props.legs:null,type:"color",texts:this.props.texts}),s.a.createElement(re,{size:"large",color:"primary",type:"secondary-button",text:"Progess",buttonNumber:2,onClick:this.props.onClick}),s.a.createElement(M.a,null))))}}]),t}(s.a.Component),he=Object(S.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(ue),pe=a(136),de=a.n(pe),me=a(92),ge=a.n(me);var ve=Object(S.withStyles)(function(e){return{fab:{margin:e.spacing.unit,backgroundColor:"#2196f3"},extendedIcon:{marginRight:e.spacing.unit}}})(function(e){var t=e.classes;return s.a.createElement("div",{className:"add-button-container"},s.a.createElement(de.a,{size:"small",color:"primary","aria-label":"Add",className:"add-button button ".concat(t.fab),onClick:function(t){return e.onClick(t)},"data-number":e.number},function(e){return"add"===e.iconType?s.a.createElement(ge.a,null):"minus"===e.iconType?s.a.createElement("img",{className:"minus-svg",src:"./icons/remove_24px.svg"}):null}(e),s.a.createElement(ge.a,null)))}),fe=a(48),Ce=a.n(fe),be=a(137),ye=a.n(be),Se=a(138),xe=a.n(Se),ke=a(139),Ee=a.n(ke),Oe={root:{color:Ce.a[600],"&$checked":{color:Ce.a[500]}},checked:{}},je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={checkedA:!1,checkedB:!1,checkedC:!1},a.handleChange=function(){return function(e){var t=a.props.value;a.props.onChange&&a.props.onChange(e),a.setState(Object(p.a)({},t,e.target.checked))}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"checkedState",value:function(){return"checkedA"===this.props.value?this.state.checkedA:"checkedB"===this.props.value?this.state.checkedB:"checkedC"===this.props.value?this.state.checkedC:void 0}},{key:"render",value:function(){this.props.classes;return s.a.createElement(ye.a,{row:!0,className:"checkbox-container"},s.a.createElement(xe.a,{control:s.a.createElement(Ee.a,{checked:this.checkedState(),onChange:this.handleChange(),value:this.props.value,name:this.props.name}),label:this.props.label}))}}]),t}(s.a.Component),Ae=Object(S.withStyles)(Oe)(je),Ne=a(140),we=a.n(Ne);function Le(e){return s.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){"float-toggle"!==e.target.name&&"toggle"!==e.target.name&&"stop-name-toggle"!==e.target.name?a.setState({value:a.props.selectedDriver}):a.props.onChange(e)},a.state={value:0,tabs:[{label:"Driver 1"}],numberOfTabs:1,hovered:!1,checkedA:!1,checkedB:!1,checkedC:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"addTab",value:function(){var e=this.state.numberOfTabs+1;this.setState({numberOfTabs:e})}},{key:"subtractTab",value:function(e){if(this.state.numberOfTabs<2)console.log("cannot subtract single driver");else{var t=this.state.numberOfTabs-1;this.setState({numberOfTabs:t})}}},{key:"handleAddButtonClick",value:function(e){this.props.onClick(e),this.addTab(),this.setState({value:this.props.selectedDriver})}},{key:"handleRemoveButtonClick",value:function(e){if(this.state.hovered){console.log("HERE");var t=parseInt(e.target.innerText.substring(13,14))-1;this.props.onClick({event:e,iconClick:!0,cursor:!0}),this.subtractTab(t)}}},{key:"mouseEvent",value:function(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;e.clientY-t.top<=27&&a>=60?this.setState({hovered:!0}):this.setState({hovered:!1})}},{key:"handleTabsClick",value:function(e){e.stopPropagation(),this.state.hovered||e.target.parentNode.parentNode.parentNode.classList.contains("tabs-element")||"button"===e.target.type&&e.target.dataset.key&&this.props.onClick({event:e,iconClick:!1,cursor:!0})}},{key:"renderIcon",value:function(){return s.a.createElement("div",{tabIndex:"-1",className:"icon-wrapper"},s.a.createElement(j,{className:"close-icon",strType:"close"}))}},{key:"render",value:function(){var e=this,t=this.props.classes;this.state.value;return this.props.cursorArr?s.a.createElement("div",{className:t.root},s.a.createElement(L.a,{position:"static"},s.a.createElement(T.a,{classes:{indicator:t.indicator},className:"tabs-element",name:"tabs",value:this.props.selectedDriver,onChange:this.handleChange,onClick:this.handleTabsClick.bind(this)},this.props.cursorArr.map(function(t,a){return s.a.createElement("div",null,s.a.createElement(P.a,{"data-tip":"Click to Hide Cursor","data-key":a,icon:e.renderIcon(),onMouseMove:e.mouseEvent.bind(e),label:t.name,key:a,onClick:e.handleRemoveButtonClick.bind(e)}),s.a.createElement(we.a,null))}),s.a.createElement(ve,{onClick:this.handleAddButtonClick.bind(this)}),s.a.createElement("div",{className:"checkboxes"},s.a.createElement(Ae,{checkedProps:this.state.checkedA,value:"checkedA",name:"float-toggle",label:"Floating Controls"}),s.a.createElement(Ae,{value:"checkedB",name:"stop-name-toggle",label:"Show Stop Names"})),s.a.createElement(re,{size:"small",color:"secondary",text:"Toggle Route",type:"secondary-button",onClick:this.props.onClick,buttonNumber:1}))),s.a.createElement(Le,null,s.a.createElement(he,{onClick:this.props.onClick,onSubmit:this.props.onSubmit,onChange:this.props.onChange,values:this.props.values,legs:this.props.legs?this.props.legs:null,texts:this.props.texts}))):null}}]),t}(s.a.Component),Te=Object(S.withStyles)(function(e,t){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},indicator:{backgroundColor:t}}})(Ie),De=a(151),Pe=a(5),ze=a.n(Pe),Me=a(144),Xe=a.n(Me),Ye=a(146),_e=a.n(Ye),Re=a(147),Fe=a.n(Re),Be=a(148),Ge=a.n(Be),We=a(86),He=a.n(We),qe=a(71),Je=a.n(qe),Ve=a(149),Ue=a.n(Ve),Ke=a(89),Ze=a.n(Ke),$e=a(145),Qe=a.n($e),et={success:Xe.a,warning:Qe.a,error:_e.a,info:Fe.a};var tt=Object(S.withStyles)(function(e){return{success:{backgroundColor:Ce.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:He.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,r=e.message,o=e.onClose,n=e.variant,l=Object(De.a)(e,["classes","className","message","onClose","variant"]),i=et[n];return s.a.createElement(Ze.a,Object.assign({className:ze()(t[n],a),"aria-describedby":"client-snackbar",message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(i,{className:ze()(t.icon,t.iconVariant)}),r),action:[s.a.createElement(Je.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},s.a.createElement(Ge.a,{className:t.icon}))]},l))}),at=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1},a.handleClick=function(){console.log("click"),a.setState({open:!1})},a.handleClose=function(e,t){console.log("close"),a.setState({open:!1})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.snackbarOpen,autoHideDuration:6e3,onClose:this.handleClose,onClick:this.props.onClick,className:"snackbar"},s.a.createElement(tt,{onClose:this.handleClose,variant:"info",message:"Those coords are not part of the route."})))}}]),t}(s.a.Component),rt=Object(S.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(at),st=a(150),ot=a.n(st),nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={value:200},a.handleChange=function(e,t){a.props.onChange({event:e,value:t}),a.setState({value:t})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return s.a.createElement("div",{className:"".concat(e.root," slider ")},s.a.createElement(M.a,{id:"label"},this.props.label),s.a.createElement(ot.a,{max:1e3,step:1,classes:{container:e.slider},value:t,"aria-labelledby":"label",onChange:this.handleChange}))}}]),t}(s.a.Component),lt=(Object(S.withStyles)({root:{width:300},slider:{padding:"22px 0px"}})(nt),{_convertToPixels:function(e,t){var a,r;return e||(e=0),t||(t=0),a=e?100+11*(e-=10):10*e,r=t?100+11*(t-=10):10*t,{moveX:parseInt(a),moveY:parseInt(r)}},_numToMove:function(e,t,a){return"stop"===a?{tempX:Math.abs(this.state.previousStopX-e),tempY:Math.abs(this.state.previousStopY-t)}:"leg"===a?{tempX:Math.abs(this.state.previousLegX-e),tempY:Math.abs(this.state.previousLegY-t)}:void console.error("error in the num to move function")},_calcStartingCell:function(e){return parseInt(e.x)*parseInt(e.y)-parseInt(e.x)},_absDiff:function(e,t){return{xDiff:Math.abs(e.x-t.x),yDiff:Math.abs(e.y-t.y)}},_getDriverCoords:function(e,t,a){var r,s,o=e.x,n=t.x,l=e.y,i=t.y,c=a.xNum,u=a.yNum;return o<n?r=o+c:o>=n?r=o-c:console.error("error in driver movement"),l<i?s=l+u:l>=i?s=l-u:console.error("error in driver movement"),console.log("x",r),console.log("y",s),{x:r,y:s}},_percentToCoords:function(e,t){return{xNum:Math.floor(.01*e.xDiff*t),yNum:Math.floor(.01*e.yDiff*t)}},_findPercentFromDriverCoords:function(e,t,a,r){var s,o,n,l,i=parseInt(e.x),c=parseInt(e.y),u=parseInt(t.x),h=parseInt(t.y);if(i<u?s=u-i:i>u?s=i-u:i===u?s=0:console.error("error in driver movement"),c<h?o=h-c:c>h?o=c-h:c===h?o=0:console.error("error in driver movement"),0===s&&(n=0),0===o&&(l=0),s&&0!==s&&(n=s/r),o&&0!==o&&(l=o/a),!n||!l){if(n)return 100*n;if(l)return 100*l}return 0===n&&0===l?0:r>a?n:r<a?l:r===a?n>=l?n:l:void console.error("An error occured in the percentage calcs")},_makePlotJson:function(e){return e.map(function(e,t){return{name:String.fromCharCode(t+65),x:e.x,y:e.y}})}}),it=a(87),ct=a.n(it),ut=a(58),ht=a.n(ut),pt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={value:"",name:"",xSelect:"",ySelect:""},a.handleChange=function(e){console.log(e.target.name),console.log(e.target.value),a.props.onChange(e),a.setState(Object(p.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("form",{className:e.root,autoComplete:"off"},s.a.createElement(K.a,{className:"".concat(e.formControl," regular")},s.a.createElement(V.a,{htmlFor:"age-simple"},"X"),s.a.createElement($.a,{value:this.state.xSelect,onChange:this.handleChange,inputProps:{name:"xSelect",id:"x-simple-select"},ref:this.ref1},s.a.createElement(ht.a,{value:""},s.a.createElement("em",null,"None")),this.props.cells.map(function(e,t){return s.a.createElement(ht.a,{value:e+1,key:t},e+1)}))),s.a.createElement(K.a,{className:e.formControl},s.a.createElement(V.a,{htmlFor:"age-simple"},"Y"),s.a.createElement($.a,{value:this.state.ySelect,onChange:this.handleChange,inputProps:{name:"ySelect",id:"y-simple-select"},ref:this.ref2},s.a.createElement(ht.a,{value:""},s.a.createElement("em",null,"None")),this.props.cells.map(function(e,t){return s.a.createElement(ht.a,{value:e+1,key:t},e+1)}))))}}]),t}(s.a.Component),dt=Object(S.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(pt);var mt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleOpen=function(t){e.setState({open:!0})},e.handleClose=function(t){e.setState({open:!1}),e.props.onChange(t)},e.state={open:!1,cells:""},e.makeRange=e.makeRange.bind(Object(C.a)(Object(C.a)(e))),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"makeRange",value:function(){var e=this.props.cells;return Array.from({length:e},function(e,t){return t})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({open:e.props.open})},1e3)}},{key:"componentDidUpdate",value:function(){this.props.open!==this.state.open&&this.setState({open:this.props.open})}},{key:"handleSelectChange",value:function(e){this.props.onChange(e)}},{key:"handleSubmit",value:function(e){this.props.onSubmit(e)}},{key:"handleClick",value:function(e){e.stopPropagation(),e.target.classList&&e.target.classList.contains("close-icon")?this.handleClose(e):e.target.classList&&(e.target.classList.contains("modal-submit")||e.target.classList.contains("auto-plot-submit"))&&this.handleSubmit(e)}},{key:"renderIcon",value:function(){return s.a.createElement("div",{tabIndex:"-1",className:"icon-wrapper"},s.a.createElement(j,{className:"close-icon",strType:"close",onClick:this.handleClick.bind(this)}))}},{key:"renderInputModal",value:function(e){var t=this.makeRange(this.props.cells);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ct.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose,onClick:this.handleClick.bind(this)},s.a.createElement("div",{style:{width:"500px",display:"flex",justifyContent:"center",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:"".concat(e.paper," modal")},s.a.createElement("div",{className:"modal-col modal-left"},s.a.createElement(M.a,{variant:"h6",id:"modal-title"},"Set Graph Size"),s.a.createElement(ce,{graphSize:!0,onChange:this.handleSelectChange.bind(this),onSubmit:this.handleSubmit.bind(this),values:this.state.setGraphSize,formname:"graph-size",addedClass:"graph-size",buttonsize:"small"})),s.a.createElement("div",{className:"modal-center modal-col"},s.a.createElement(j,{className:"close-icon",strType:"close"}),s.a.createElement(M.a,{variant:"h6",id:"modal-title"},"Set Plot Points"),s.a.createElement(M.a,{variant:"subtitle1",id:"simple-modal-description"},s.a.createElement(dt,{cells:t,onChange:this.handleSelectChange.bind(this)})),s.a.createElement(M.a,{variant:"subtitle2",id:"simple-modal-description"},s.a.createElement("div",{className:"auto-plot"},s.a.createElement("span",{id:"auto-plot-span"},s.a.createElement("strong",null,"OR")),s.a.createElement(re,{type:"auto-plot-submit submit",value:"Submit",size:"small",color:"primary",text:"Auto",onClick:this.handleClick.bind(this)})))),s.a.createElement(gt,null),s.a.createElement("div",{className:"modal-right modal-col"},s.a.createElement(M.a,{variant:"h6",id:"modal-title"},"Points Plotted"),this.renderPlotsList(this.props),s.a.createElement(re,{type:" modal-submit submit",value:"Submit",size:"small",color:"secondary",text:"Graph"})))))}},{key:"renderPlotsList",value:function(e){if(console.log(e),e.plots)return s.a.createElement("div",{className:"plots-list-container"},s.a.createElement("ol",{className:"plots-list"},e.plots.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("strong",null,"X"),":",e.x,"\xa0\xa0\xa0 ",s.a.createElement("strong",null,"Y"),":",e.y)})))}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(s.a.Fragment,null,this.renderInputModal(e))}}]),t}(s.a.Component),gt=Object(S.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"}}})(mt),vt=gt,ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._callLegs=Object(f.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/legs");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),a._callStops=Object(f.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/stops");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),a._callDriver=Object(f.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/driver");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),a.state={modalState:!0,setGraphSize:{x:"20",y:"20"},storeGraphSize:{x:"20",y:"20"},plotObjs:[],tempPlotObj:{x:"",y:""},cancelSlide:!1,sliderSlicedChunk:[],previousXSlideCoord:{x:0},previousYSlideCoord:{y:0},iconStartAtfirstStop:!1,sliderIndex:0,initialSliderChange:!0,sliderCoordsArrs:[],colors:["red","Orange","DodgerBlue","MediumSeaGreen","Violet","SlateBlue","Tomato"],floatToggle:!1,showStopNames:!1,snackbarOpen:!1,allColorsCounter:0,legColorsCounter:0,completedColorsCounter:0,colorType:"",loadingDataArr:[],cursorIndex:0,createCounter:0,legs:[],stops:[],jsonStops:[],stopsCopy:[],legToColorID:"",cursorFormX:"",cursorFormY:"",cursorLegInput:"",cursorArr:[],cursorInputProgress:"",currentCursor:"",driverLegStart:"",driverCoords:"",positionSelect:"coords",startingCellNumAll:0,startingCellNumPartial:"",previousLegEndCell:0,previousStopX:0,previousStopY:0,previousLegX:0,previousLegY:0,partialLegStartCoords:"",partialLegEndCoords:"",boxesToRender:Array.from({length:100},function(e,t){return t}),holdAllStopColorIndexes:[],holdAllLegColorArrs:[],holdingCompletedArrs:[],finalStopColorArr:[],finalLegColorObj:[],finalCompletedColorsArr:[],finalDriverMoveObj:"",finalSliderCoords:[],legStartEndCellNums:[],texts:{driverText:"Select leg for driver",colorText:"Select a Leg to color"}},a.getWindowOffset=a.getWindowOffset.bind(Object(C.a)(Object(C.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"createGraph",value:function(){var e=this,t=parseInt(this.state.setGraphSize.x)*parseInt(this.state.setGraphSize.y);t?(e.setState({boxesToRender:Array.from({length:t},function(e,t){return t})}),function(){var t=document.documentElement;t.style.setProperty("--graph-size-x",e.state.setGraphSize.x),t.style.setProperty("--graph-size-y",e.state.setGraphSize.y)}(),setTimeout(function(){e.setState({startingCellNumAll:lt._calcStartingCell(e.state.setGraphSize)}),console.log("TOP",e.state.startingCellNumAll),e.calcRowVariaion()})):console.error("No cell values")}},{key:"_numToMove",value:function(e,t,a){return"stop"===a?{tempX:Math.abs(this.state.previousStopX-e),tempY:Math.abs(this.state.previousStopY-t)}:"leg"===a?{tempX:Math.abs(this.state.previousLegX-e),tempY:Math.abs(this.state.previousLegY-t)}:void console.error("error in the num to move function")}},{key:"_percentToCoords",value:function(e,t){return{xNum:Math.floor(.01*e.xDiff*t),yNum:Math.floor(.01*e.yDiff*t)}}},{key:"increaseCursorIdindex",value:function(){var e=this.state.createCounter+1;this.setState({createCounter:e})}},{key:"addNewCursor",value:function(){var e={directions:{xDir:"left",yDir:"bottom"},pixels:{moveX:0,moveY:0},id:this.state.createCounter,name:"cursor ".concat(this.state.createCounter+1),color:this.state.colors[this.state.createCounter],show:!1},t=[];t.push(e);var a=this.state.cursorArr.concat(t);this.setState({cursorArr:a}),this.increaseCursorIdindex(),this.changeCursor("new-cursor",e.id)}},{key:"changeCursor",value:function(e,t){"new-cursor"===e?this.setState({cursorIndex:t,colorType:""}):"change-cursor"===e&&this.setState({cursorIndex:t})}},{key:"removeDriver",value:function(e){for(var t=e.event.target.dataset.key,a=this.state.cursorArr.filter(function(e){return e.name===t.toLowerCase()&&e}),r=this.state.cursorArr.length-1;r>=0;r--)a[0].id>this.state.cursorArr[r].id&&this.changeCursor("change-cursor",this.state.cursorArr[r].id);console.log(this.state.cursorArr);var s=this;setTimeout(function(){var e=s.state.cursorArr.indexOf(a[0]);s.state.cursorArr.splice(e,1),s.setState({cursorArr:s.state.cursorArr}),console.log(s.state.cursorArr)})}},{key:"updateCursorwithData",value:function(e){var t=this.state.cursorArr[this.state.cursorIndex],a=e.activeLegID,r=a[0],s=a[1],o=this.state.stops.filter(function(e){return e.name===r}),n=this.state.stops.filter(function(e){return e.name===s}),l=lt._absDiff(o[0],n[0]),i=parseInt(e.legProgress),c=lt._percentToCoords(l,i),u=lt._getDriverCoords(o[0],n[0],c),h=u.x,p=u.y;console.log(h,p);var d=lt._getDriverCoords(o[0],n[0],c),m=lt._convertToPixels(h,p);console.log(m),t.pixels=m,t.data=e,t.driverCoords=d,this.state.cursorArr[this.state.cursorIndex]=t,console.log("update",this.state.cursorArr),console.log("update",this.state.cursorArr),this.setState({cursorArr:this.state.cursorArr})}},{key:"updateDriverWithCoords",value:function(e,t){var a=this.state.cursorArr[this.state.cursorIndex],r=Object(m.a)(this.state.cursorArr);"form"===t?(this._resetTruck(),e=this._setStopCoords("driver",this.state.cursorFormX,this.state.cursorFormY)):"checkbox"===t?this.state.iconStartAtfirstStop?(e=this._setStopCoords("driver",e.x,e.y),a.driverCoords.x=this.state.stops[0].x,a.driverCoords.y=this.state.stops[0].y,console.log("S",a),this.setState({cursorArr:r}),this.updateDriverData()):this.state.iconStartAtfirstStop||(e=this._setStopCoords("driver",e.x,e.y),a.driverCoords.x=0,a.driverCoords.y=0,this.setState({cursorArr:r}),this.updateDriverData()):"slider"===t?e=this._setStopCoords("driver",e.x,e.y):"manual"===t&&(this._resetTruck(),e=this._setStopCoords("driver",e.x,e.y),r[this.state.cursorIndex].driverCoords={x:0,y:0}),e.pixels.moveX=e.pixels.moveX-30,r[this.state.cursorIndex].directions=e.directions,r[this.state.cursorIndex].pixels=e.pixels,this.setState({cursorArr:r})}},{key:"colorCompleted",value:function(e,t){var a=this.state.cursorArr[this.state.cursorIndex],r=this.state.legs.filter(function(t){return t.legID===e}),s=this._legIndex(r[0].legID),o=this.state.legs.indexOf(r[0]),n=this.state.legs[o],l=this.state.stops.filter(function(e){return e.name===n.startStop}),i=this.state.stops.filter(function(e){return e.name===n.endStop}),c={x:l[0].x,y:l[0].y},u={x:i[0].x,y:i[0].y},h=this.state.legStartEndCellNums[s],p=h.start,d=(h.end,this.state.holdAllLegColorArrs.slice(0,s));this.setState({startingCellNumPartial:p,partialLegStartCoords:c,partialLegEndCoords:u,holdingCompletedArrs:Object(m.a)(d)}),"data"===t?this.legStartEnd(a.driverCoords.x,a.driverCoords.y,"partial"):"coords"===t&&this.legStartEnd(a.driverCoords.x,a.driverCoords.y,"partial")}},{key:"calcRowVariaion",value:function(){this.setState({moveRowCells:parseInt(this.state.setGraphSize.x)})}},{key:"colorGrid",value:function(e,t,a){var r,s,o=[],n=e,l=t;for("all"===a&&(r=this.state.startingCellNumAll),n=this._numToMove(n,l,"stop").tempX,l=this._numToMove(n,l,"stop").tempY,0===this.state.previousStopX&&0===this.state.previousStopY&&(n-=1,l-=1,o.push(r));n&&l;)this.state.previousStopY<t?(r-=this.state.moveRowCells,o.push(r)):this.state.previousStopY>t&&(r+=this.state.moveRowCells,o.push(r)),this.state.previousStopX<e?(r+=1,o.push(r)):this.state.previousStopX>e&&(r-=1,o.push(r)),n-=1,l-=1;s=l||n;for(var i=0;i<s;i++)l?this.state.previousStopY<t?(r-=this.state.moveRowCells,o.push(r)):this.state.previousStopY>t&&(r+=this.state.moveRowCells,o.push(r)):n&&(this.state.previousStopX<e?(r+=1,o.push(r)):this.state.previousStopX>e&&(r-=1,o.push(r)));"all"===a&&this.setState({previousStopX:e,previousStopY:t,startingCellNumAll:r,holdAllStopColorIndexes:[].concat(Object(m.a)(this.state.holdAllStopColorIndexes),o)})}},{key:"legStartEnd",value:function(e,t,a){var r,s,o=[],n=e,l=t;"all"===a?0===this.state.previousLegEndCell?(r=this.state.startingCellNumAll,s=this.state.startingCellNumAll):(r=this.state.previousLegEndCell,s=this.state.previousLegEndCell):"partial"===a&&(s=this.state.startingCellNumPartial,this.setState({previousLegX:this.state.partialLegStartCoords.x,previousLegY:this.state.partialLegStartCoords.y}));var i,c=this._numToMove(n,l,"leg");for(n=c.tempX,l=c.tempY,0===this.state.previousLegX&&0===this.state.previousLegY&&(n-=1,l-=1,o.push(s));n&&l;)this.state.previousLegY<t?(s-=this.state.moveRowCells,o.push(s)):this.state.previousLegY>t&&(s+=this.state.moveRowCells,o.push(s)),this.state.previousLegX<e?(s+=1,o.push(s)):this.state.previousLegX>e&&(s-=1,o.push(s)),n-=1,l-=1;i=l||n;for(var u=0;u<i;u++)l?this.state.previousLegY<t?(s-=this.state.moveRowCells,o.push(s)):this.state.previousLegY>t&&(s+=this.state.moveRowCells,o.push(s)):n&&(this.state.previousLegX<e?(s+=1,o.push(s)):this.state.previousLegX>e&&(s-=1,o.push(s)));var h={start:r,end:s};"all"===a?this.setState({previousLegEndCell:s,previousLegX:e,previousLegY:t,legStartEndCellNums:[].concat(Object(m.a)(this.state.legStartEndCellNums),[h]),holdAllLegColorArrs:[].concat(Object(m.a)(this.state.holdAllLegColorArrs),[o])}):"partial"===a&&this.setState({previousStopX:e,previousStopY:t,startingCellNumPartial:s,holdingCompletedArrs:[].concat(Object(m.a)(this.state.holdingCompletedArrs),[o])})}},{key:"colorAllStops",value:function(){this.setState({finalStopColorArr:this.state.holdAllStopColorIndexes})}},{key:"colorCompletedStops",value:function(){console.log(this.state.holdingCompletedArrs);var e=[].concat.apply([],this.state.holdingCompletedArrs);console.log(e),this.setState({finalCompletedColorsArr:e})}},{key:"_getLegStartfromCoords",value:function(){var e=this,t=this.state.cursorArr[this.state.cursorIndex].driverCoords;return this.state.stops.filter(function(a,r){var s=e.state.stops[r],o=e.state.stops[r+1];if(void 0!==o)return(t.y>s.y&&t.y<o.y||t.y<s.y&&t.y>o.y)&&(t.x>s.x&&t.x<o.x||t.x<s.x&&t.x>o.x)?(console.log("both are btw"),a):(t.y>s.y&&t.y<o.y||t.y<s.y&&t.y>o.y)&&t.x===s.x&&t.x===o.x?(console.log("y btw. x equal"),a):(t.x>s.x&&t.x<o.x||t.x<s.x&&t.x>o.x)&&t.y===s.y&&t.y===o.y?(console.log("x btw. y equal"),a):t.x===s.x&&t.y===s.y?(console.log("both equal"),a):0===r&&a===e.state.stops[0]?a:null})}},{key:"updateDriverData",value:function(){var e=this.state.cursorArr[this.state.cursorIndex],t=this._getLegStartfromCoords()[0];if(!t)return console.error("Not a map stop"),!1;var a=this.state.stops.indexOf(t),r=this.state.stops[a+1],s=lt._absDiff(t,r),o=lt._findPercentFromDriverCoords(t,e.driverCoords,s.yDiff,s.xDiff),n={activeLegID:this.state.legs.filter(function(e){return e.startStop===t.name})[0].legID,legProgress:o.toString()},l=Object(m.a)(this.state.cursorArr);return e.data=n,l[this.state.cursorIndex]=e,this.setState({cursorArr:l,selectedDriver:n}),!0}},{key:"_resetTruck",value:function(){this.setState({finalDriverMoveObj:{directions:{xDir:"left",yDir:"bottom"},pixels:{moveX:0,moveY:0}}})}},{key:"renderCursor",value:function(){var e=this;return this.state.cursorArr&&Array.isArray(this.state.cursorArr)?this.state.cursorArr.map(function(t,a){return s.a.createElement(N,{show:t.show,coords:t,key:a,colors:e.state.colors,counter:e.state.createCounter})}):null}},{key:"handleStyle",value:function(){return this.state.floatToggle?(console.log("float",this.state.floatToggle),this.state.utilsTop?{marginBottom:this.state.utilsTop.toString()+"px"}:null):null}},{key:"render",value:function(){return s.a.createElement("main",{className:"page-container"},s.a.createElement(vt,{open:this.state.modalState,cells:Math.sqrt(parseInt(this.state.setGraphSize.x)*parseInt(this.state.setGraphSize.y)),onChange:this.handleChange.bind(this),onSubmit:this.handleSubmit.bind(this),plots:this.state.plotObjs.length?this.state.plotObjs:void 0}),s.a.createElement("div",{className:"grid-container",style:this.handleStyle.bind(this)()},s.a.createElement("div",{className:"grid"},this.renderCursor(),s.a.createElement(A,{coords:this.state.stopsDirsArr,toggleStopNames:this.state.showStopNames}),s.a.createElement(y,{toRender:this.state.boxesToRender,stopsColor:this.state.finalStopColorArr.length?this.state.finalStopColorArr:null,legsColor:this.state.finalLegColorObj?this.state.finalLegColorObj:null,completeColor:this.state.finalCompletedColorsArr.length?this.state.finalCompletedColorsArr:null,type:this.state.colorType,legColorsCounter:this.state.legColorsCounter,completedColorsCounter:this.state.completedColorsCounter,allColorsCounter:this.state.allColorsCounter,selectedDriver:this.state.cursorIndex}))),s.a.createElement("div",{className:"".concat(this.state.floatToggle?"float-toggle":""," utils-container")},s.a.createElement("div",{className:"driver-controls"},s.a.createElement("div",{className:"upper-controls"},s.a.createElement(re,{onClick:this.handleClick.bind(this),buttonNumber:4,size:"small",text:"Show Window",type:"primary-button",color:"default"})),s.a.createElement(Te,{onChange:this.handleChange.bind(this),onSubmit:this.handleSubmit.bind(this),onClick:this.handleClick.bind(this),values:{x:this.state.cursorFormX,y:this.state.cursorFormY},legs:this.state.legs?this.state.legs:null,texts:this.state.texts,cursorArr:this.state.cursorArr.length?this.state.cursorArr:null,colors:this.state.colors,selectedDriver:this.state.cursorIndex}),s.a.createElement(rt,{snackbarOpen:this.state.snackbarOpen,onClick:this.handleClick.bind(this)}))))}},{key:"handleModalOpenClose",value:function(){this.state.modalState=!this.state.modalState,this.setState({modalState:this.state.modalState})}},{key:"handleSliderChange",value:function(e){if(this.state.cancelSlide&&(this.state.cancelSlide=!1,this.setState({cancelSlide:this.state.cancelSlide})),e.value){var t=function(){return s.state.previousState?s.state.currentState-s.state.previousState:s.state.currentState},a=function(){s.state.cancelSlide||(t()>0?s.setState({sliderIndex:s.state.sliderIndex+1}):t()<0&&s.setState({sliderIndex:s.state.sliderIndex-1}),console.log("index",s.state.sliderIndex))},r=function(){if(s.state.cancelSlide)console.log("CANCEL");else if(console.log("state",s.state.finalSliderCoords),s.state.slideIndex||(console.log("state",s.state.finalSliderCoords),s.state.finalSliderCoords[s.state.sliderIndex]||s.state.finalSliderCoords[s.state.sliderIndex])){s.state.cursorArr[s.state.cursorIndex];s.updateDriverWithCoords({x:s.state.finalSliderCoords[s.state.sliderIndex].x,y:s.state.finalSliderCoords[s.state.sliderIndex].y},"slider")}else console.error("Cannot move backwards past beginning of graph.")};console.log("slider coords",this.state.sliderCoordsArrs),console.log("slider coords",this.state.finalSliderCoords),this.state.finalSliderCoords.length||this.setState({finalSliderCoords:this.state.sliderCoordsArrs.flat()}),console.log("final",this.state.finalSliderCoords);var s=this;!function(){var t;s.state.initialSliderChange?(t=0,s.setState({initialSliderChange:!1,previousState:t})):(t=s.state.currentState,s.setState({previousState:t}));var a=e.value;s.setState({currentState:a})}(),setTimeout(function(){console.log("val",s.state.currentState)},100);var o=0;!function e(){setTimeout(function(){t()>=0?(o<t()&&(a(),r(),e()),o+=1):t()<0&&(o>t()&&(a(),r(),e()),o-=1)},10)}(),t()}}},{key:"toggleSnackbar",value:function(){this.state.snackbarOpen=!this.state.snackbarOpen,console.log(this.state.snackbarOpen),this.setState({snackbarOpen:this.state.snackbarOpen}),console.log(this.state.snackbarOpen)}},{key:"hasParentClass",value:function(e,t){return e.className.split(" ").indexOf(t)>=0||e.parentElement&&this.hasParentClass(e.parentElement,t)}},{key:"toggleShowCursor",value:function(e){var t=this.state.cursorArr[this.state.cursorIndex];t.show=!t.show;var a=Object(m.a)(this.state.cursorArr);this.setState({cursorArr:a})}},{key:"handleClick",value:function(e){if(console.log(e),e)if(e.event&&e.iconClick&&e.cursor)this.state.cursorArr.length>1&&this.removeDriver(e);else if(e.event&&!e.iconClick&&e.cursor){var t=parseInt(e.event.target.dataset.key);this.changeCursor("change-cursor",t);var a=this;setTimeout(function(){console.log("TAB",t),console.log("current",a.state.cursorIndex),a.toggleShowCursor(e)})}else e.target.classList.contains("add-button")?(e.stopPropagation(),this.addNewCursor()):e.target.classList.contains("secondary-button")?(e.stopPropagation(),"1"===e.target.dataset.number?(this.colorAllStops(),this.setState({allColorsCounter:this.state.allColorsCounter+1,colorType:"all"})):"2"===e.target.dataset.number&&(this.colorCompletedStops(),this.setState({completedColorsCounter:this.state.completedColorsCounter+1,colorType:"complete"}))):"button"===e.target.type&&this.hasParentClass(e.target,"snackbar")?(console.log("oks"),this.setState({snackbarOpen:!1})):"4"===e.target.dataset.number&&e.target.classList.contains("button")&&(this.state.modalState=!this.state.modalState,this.setState({modalState:this.state.modalState}),console.log(this.state.modalState))}},{key:"handleDropdownChange",value:function(e){console.log(e.target.name),"driver-select"===e.target.name?(console.log("here"),this.setState({cursorLegInput:e.target.value})):"color-select"===e.target.name&&(console.log("he"),this.setState({value:e.target.value,legToColorID:e.target.value}))}},{key:"onDropdownSubmit",value:function(e){var t=this.state.cursorArr[this.state.cursorIndex];if(console.log(t),e.preventDefault(),"driver-dropdown"===e.target.name){if(!this.state.cursorLegInput)return;var a;a=this.state.cursorInputProgress?this.state.cursorInputProgress:0;var r={activeLegID:this.state.cursorLegInput,legProgress:a};t.data=r,this.setState({cursorArr:this.state.cursorArr});var s=this;setTimeout(function(){s.updateCursorwithData(t.data),s.colorCompleted(t.data.activeLegID),console.log(s.state)},100)}else"color"===e.target.name&&this.colorLeg(this.state.legToColorID)}},{key:"handleChange",value:function(e){if("x"===e.target.name&&e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size")){var t=e.target.value;this.setState(function(e){return{storeGraphSize:Object(d.a)({},e.storeGraphSize,{x:t})}})}else if("y"===e.target.name&&e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size")){var a=e.target.value;this.setState(function(e){return{storeGraphSize:Object(d.a)({},e.storeGraphSize,{y:a})}}),console.log(this.state.storeGraphSize)}else if("x"!==e.target.name||e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size"))if("y"!==e.target.name||e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size")){if("position-select"===e.target.name);else if("driver-select"===e.target.name)this.setState({cursorLegInput:e.target.value});else if("progress-input"===e.target.name)console.log("hi"),this.setState({cursorInputProgress:e.target.value});else if("float-toggle"===e.target.name){this.state.floatToggle=!this.state.floatToggle;var r=this.getWindowOffset();r&&(console.log("HERE",r),this.setState({utilsTop:r,floatToggle:this.state.floatToggle}))}else if("stop-name-toggle"===e.target.name)this.state.showStopNames=!this.state.showStopNames,this.setState({showStopNames:this.state.showStopNames});else if("color-select"===e.target.name)this.setState({value:e.target.value,legToColorID:e.target.value});else if("icon-start"===e.target.name)this.toggleStartCheckbox();else if("xSelect"===e.target.name||"ySelect"===e.target.name||e.target.classList&&e.target.classList.contains("close-icon")||e.target.nextSibling&&e.target.nextSibling.classList.contains("modal"))if("xSelect"===e.target.name){this.setState(function(t){return{tempPlotObj:Object(d.a)({},t.tempPlotObj,{x:e.target.value})}});var s=this;setTimeout(function(){s.receivePlotData(s.state.tempPlotObj)})}else if("ySelect"===e.target.name){this.setState(function(t){return{tempPlotObj:Object(d.a)({},t.tempPlotObj,{y:e.target.value})}});var o=this;setTimeout(function(){o.receivePlotData(o.state.tempPlotObj)})}else e.target.classList.contains("close-icon")?this.handleModalOpenClose():e.target.nextSibling.classList.contains("modal")&&this.handleModalOpenClose()}else this.setState({cursorFormY:e.target.value});else this.setState({cursorFormX:e.target.value})}},{key:"receivePlotData",value:function(e){console.log(e),e.x&&e.y?this.setState(Object(p.a)({tempPlotObj:e,plotObjs:[].concat(Object(m.a)(this.state.plotObjs),[this.state.tempPlotObj])},"tempPlotObj","")):console.error("Must have two plot points")}},{key:"toggleStartCheckbox",value:function(){var e,t;this.state.iconStartAtfirstStop=!this.state.iconStartAtfirstStop,console.log(this.state.sliderSlicedChunk),this.state.iconStartAtfirstStop?(this.state.sliderSlicedChunk=this.state.sliderCoordsArrs.splice(0,1),e=this.state.sliderCoordsArrs,t=10,this.updateDriverWithCoords({x:this.state.stops[0].x,y:this.state.stops[0].y},"checkbox")):(e=this.state.sliderSlicedChunk.concat(this.state.sliderCoordsArrs),console.log("slider",this.state.sliderCoordsArrs),t=0,this.updateDriverWithCoords({x:0,y:0},"checkbox")),this.setState({cancelSlide:!0,iconStartAtfirstStop:this.state.iconStartAtfirstStop,sliderCoordsArrs:e,sliderIndex:t,finalSliderCoords:e.flat()})}},{key:"emptyFinalSliderArr",value:function(){this.state.finalSliderCoords.lenght&&this.setState({finalSliderCoords:[]})}},{key:"addStartStop",value:function(){var e=[{name:"A",x:0,y:0}].concat(this.state.stopsCopy);this.setState({stopsCopy:e})}},{key:"scrollToBottom",value:function(){console.log("scroll bottom DO"),window.scrollTo(0,document.body.scrollHeight)}},{key:"getWindowOffset",value:function(){var e=document.querySelector(".utils-container"),t=document.querySelector(".grid-container");return e.offsetHeight+t.offsetHeight>window.innerHeight&&e.offsetHeight}},{key:"componentDidMount",value:function(){var e=this;this.createGraph(),this.scrollToBottom();var t=document.querySelector(".utils-container");document.querySelector(".grid-container");setTimeout(function(){e.setState({utilsTop:t.offsetHeight})},500),setTimeout(function(){e.addNewCursor(),e.updateDriverWithCoords({x:0,y:0},"manual")},100),setTimeout(function(){},500)}},{key:"sliderCoordsCalc",value:function(e,t,a){var r,s,o,n,l=[],i=e,c=t;i.length>=c.length?(o=i,n=c):(o=c,n=i);var u,h=i[i.length-1],d=c[c.length-1];i.length&&this.setState({lastXarr:h}),c.length&&this.setState({lastYarr:d});for(var g=0,v=0;v<o.length;v++){var f,C,b;if(n[v]&&n[v]!==r?r=n[v]:r?(s=r,this.setState({previousSmall:s})):s=this.state.previousSmall,g<n.length)f={},Object(p.a)(f,Object.keys(o[v])[0],Object.values(o[v])[0]),Object(p.a)(f,Object.keys(n[v])[0],Object.values(n[v])[0]),u=f,g++;else if(v>0)C={},Object(p.a)(C,Object.keys(o[v])[0],Object.values(o[v])[0]),Object(p.a)(C,Object.keys(s)[0],Object.values(s)[0]),u=C;else"x"===Object.keys(o[v])[0]?(s=this.state.lastYarr,this.setState({previousSmall:s})):(s=this.state.lastXarr,this.setState({previousSmall:s})),b={},Object(p.a)(b,Object.keys(o[v])[0],Object.values(o[v])[0]),Object(p.a)(b,Object.keys(s)[0],Object.values(s)[0]),u=b;l.push(u)}this.setState({sliderCoordsArrs:[].concat(Object(m.a)(this.state.sliderCoordsArrs),[l])})}},{key:"slideRange",value:function(e,t){if(e&&t){for(var a=[],r=[],s=e.x,o=(t.x,e.y),n=(t.y,this._numBetweenStops(e,t)),l=n.xToMove,i=n.yToMove,c=!(l<0),u=!(i<0),h=0;h<Math.abs(i);h++)if(u){var p={y:o+(h+1)};a.push(p)}else{var d={y:o-(h+1)};a.push(d)}for(h=0;h<Math.abs(l);h++)if(c){var m={x:s+(h+1)};r.push(m)}else{var g={x:o-(h+1)};r.push(g)}return{xSlideCoord:r,ySlideCoord:a}}}},{key:"_numBetweenStops",value:function(e,t){var a,r,s=e.x,o=t.x,n=e.y,l=t.y;return s>o?(a=s-o,a=-Math.abs(a)):a=o-s,n>l?(r=n-l,r=-Math.abs(r)):r=l-n,{xToMove:a,yToMove:r}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t,a=this;if("graph-size"===e.target.name){if((t=this.state.storeGraphSize).x!==t.y&&(console.error("X and Y must be equal"),alert("X and Y values must be equal"),1))return;this.setState({setGraphSize:this.state.storeGraphSize}),setTimeout(function(){console.log(a.state.setGraphSize),a.createGraph()},100)}var r=this.state.cursorArr[this.state.cursorIndex];if("driver-dropdown"===e.target.name||"color"===e.target.name)this.onDropdownSubmit(e);else if("driver-form"===e.target.name){var s={};this.state.cursorFormX?s.x=parseInt(this.state.cursorFormX):s.x=r.driverCoords.x,this.state.cursorFormY?s.y=parseInt(this.state.cursorFormY):s.y=r.driverCoords.y,console.log(r),r.driverCoords=s,console.log(this.state.cursorArr),this.setState({driverCoords:s}),this.updateDriverWithCoords("","form");var o=this;setTimeout(function(){o.updateDriverData()?(o.colorCompleted(o.state.selectedDriver.activeLegID),console.log(o.state.selectedDriver.activeLegID),console.log(o.state)):o.toggleSnackbar()},100)}else e.target.classList&&e.target.classList.contains("modal-submit")?this.handlePlotLoading("manual"):e.target.classList&&e.target.classList.contains("auto-plot-submit")&&this.handlePlotLoading("auto")}},{key:"handlePlotLoading",value:function(e){var t=this,a=this;if("manual"===e){console.log("MANUAL");var r=lt._makePlotJson(this.state.plotObjs);this.setState({stops:r}),this._setStopCoords("stop"),setTimeout(function(){a.legConstructor(a.state.stops),a.state.stops.map(function(e,t){a.legStartEnd(e.x,e.y,"all"),a.colorGrid(e.x,e.y,"all")})})}else"auto"===e&&this._callStops().then(function(e){t.setState({stops:e.stops,stopsCopy:e.stops,setGraphSize:{x:"100",y:"100"},plotObjs:e.stops}),console.log("call graph"),t.createGraph(),t._setStopCoords("stop"),setTimeout(function(){a.legConstructor(a.state.stops),a.state.stops.map(function(e,t){a.legStartEnd(e.x,e.y,"all"),a.colorGrid(e.x,e.y,"all")})})})}},{key:"_legIndex",value:function(e){var t;switch(e){case"ZZ":t=0;break;case"AB":t=1;break;case"BC":t=2;break;case"CD":t=3;break;case"DE":t=4;break;case"EF":t=5;break;case"FG":t=6;break;case"GH":t=7;break;case"HI":t=8;break;case"IJ":t=9;break;case"JK":t=10;break;case"KL":t=11;break;default:console.error("Nothing in switch")}return t}},{key:"colorLeg",value:function(e){console.log(this.state.finalLegColorObj);var t=this._legIndex(e);console.log("i",t);var a=this.state.holdAllLegColorArrs[t];console.log("leg",this.state.holdAllLegColorArrs);var r={leg:a,index:t};console.log(r),this.setState({finalLegColorObj:r,legColorsCounter:this.state.legColorsCounter+1,colorType:"leg"})}},{key:"legConstructor",value:function(e){var t=e.map(function(t,a){if(e[a+1])return{startStop:t.name,endStop:e[a+1].name,legID:"".concat(t.name).concat(e[a+1].name)}}).filter(function(e){return e});this.setState({legs:t})}},{key:"_setStopCoords",value:function(e,t,a){var r=this,s=[];if("stop"===e)setTimeout(function(){r.state.stops.length>0&&r.state.stops.forEach(function(e){var t={pixels:lt._convertToPixels(e.x,e.y),directions:{xDir:"left",yDir:"bottom"}};s.push(t)}),r.setState({stopsDirsArr:s})},1050);else if("driver"===e){return{pixels:lt._convertToPixels(t,a),directions:{xDir:"left",yDir:"bottom"}}}}}]),t}(r.Component),Ct=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(ft,null)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(Ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},94:function(e,t,a){}},[[152,1,2]]]);
//# sourceMappingURL=main.bcfd132c.chunk.js.map