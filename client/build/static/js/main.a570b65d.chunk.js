(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e){e.exports=[{name:"A",x:20,y:10},{name:"B",x:20,y:20},{name:"C",x:25,y:30},{name:"D",x:25,y:80},{name:"E",x:30,y:100},{name:"F",x:35,y:80},{name:"G",x:35,y:30},{name:"H",x:40,y:20},{name:"I",x:40,y:10},{name:"J",x:35,y:15},{name:"K",x:25,y:15},{name:"L",x:20,y:10}]},141:function(e){e.exports=[{startStop:"A",endStop:"B",speedLimit:100,legID:"AB"},{startStop:"B",endStop:"C",speedLimit:60,legID:"BC"},{startStop:"C",endStop:"D",speedLimit:80,legID:"CD"},{startStop:"D",endStop:"E",speedLimit:120,legID:"DE"},{startStop:"E",endStop:"F",speedLimit:40,legID:"EF"},{startStop:"F",endStop:"G",speedLimit:40,legID:"FG"},{startStop:"G",endStop:"H",speedLimit:100,legID:"GH"},{startStop:"H",endStop:"I",speedLimit:100,legID:"HI"},{startStop:"I",endStop:"J",speedLimit:50,legID:"IJ"},{startStop:"J",endStop:"K",speedLimit:100,legID:"JK"},{startStop:"K",endStop:"L",speedLimit:60,legID:"KL"}]},142:function(e){e.exports={activeLegID:"FG",legProgress:"33"}},144:function(e,t,r){e.exports=r(339)},149:function(e,t,r){},339:function(e,t,r){"use strict";r.r(t);var o=r(0),a=r.n(o),s=r(24),n=r.n(s),l=(r(149),r(17)),i=r(18),c=r(22),u=r(19),p=r(21),d=(r(86),r(30)),h=r(33),g=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={allColored:!1,legColored:!1,completeColored:!1,allColorsCounter:0,legColorsCounter:0,completedColorsCounter:0,previousLegIndex:""},r.BoxMarkup=r.BoxMarkup.bind(Object(h.a)(Object(h.a)(r))),r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderBoxes",value:function(e){var t=this;if(this.props.toRender)return this.props.toRender.map(function(e,r){var o;switch(t.props.type){case"all":t.state.allColored?t.state.allColored&&(o=t.allColorsAddLogic(r)):o=t.allColorsRemoveLogic(r);break;case"leg":t.state.legColored?t.state.legColored&&(o=t.legColorsAddLogic(r)):o=t.legColorsRemoveLogic(r);break;case"complete":t.state.completeColored?t.state.completeColored&&(o=t.completedColorsAddLogic(r)):o=t.completedColorsRemoveLogic(r);break;default:o=a.a.createElement(t.BoxMarkup,{key:r})}return o})}},{key:"toggleColor",value:function(e){"all"===e?(this.state.allColored=!this.state.allColored,console.log("opposite",this.state.allColored),this.setState({allColored:this.state.allColored})):"leg"===e?(this.state.legColored=!this.state.legColored,console.log("opposite",this.state.legColored),this.setState({legColored:this.state.legColored})):"complete"===e&&(this.state.completeColored=!this.state.completeColored,console.log("opposite",this.state.completeColored),this.setState({completeColored:this.state.completeColored}))}},{key:"allColorsAddLogic",value:function(e){var t=this.props.stopsColor,r=!!(t&&t.length&&t.includes(e));return a.a.createElement(this.BoxMarkup,{hasStopColor:r,key:e})}},{key:"allColorsRemoveLogic",value:function(e){var t=this.props.stopsColor,r=function(){if(t&&t.includes(e))return!1}();return a.a.createElement(this.BoxMarkup,{hasStopColor:r,key:e})}},{key:"legColorsAddLogic",value:function(e){var t=this.props.legsColor,r=!!((t=t.leg)&&t.length&&t.includes(e));return a.a.createElement(this.BoxMarkup,{hasLegColor:r,key:e})}},{key:"legColorsRemoveLogic",value:function(e){var t=this.props.legsColor;t=t.leg;var r=function(){if(t&&t.includes(e))return!1}();return a.a.createElement(this.BoxMarkup,{hasLegColor:r,key:e})}},{key:"completedColorsAddLogic",value:function(e){var t=this.props.completeColor,r=!!(t&&t.length&&t.includes(e));return a.a.createElement(this.BoxMarkup,{hasCompletionColor:r,key:e})}},{key:"completedColorsRemoveLogic",value:function(e){var t=this.props.completeColor,r=function(){if(t&&t.includes(e))return!1}();return a.a.createElement(this.BoxMarkup,{hasCompletionColor:r,key:e})}},{key:"BoxMarkup",value:function(e){return a.a.createElement("div",{className:"box ".concat(e.hasStopColor?"stop-color".concat(this.props.selectedDriver):""," ").concat(e.hasLegColor?"leg-color".concat(this.props.selectedDriver):""," ").concat(e.hasCompletionColor?"complete-color".concat(this.props.selectedDriver):"")})}},{key:"componentDidUpdate",value:function(e,t){this.props.allColorsCounter!==e.allColorsCounter&&(this.state.allColorsCounter!==this.props.allColorsCounter?(console.log("toggle"),this.toggleColor("all"),this.setState({allColorsCounter:this.props.allColorsCounter})):console.error("And error in the all index logic")),this.props.legColorsCounter!==e.legColorsCounter&&(this.props.legsColor.index!==this.state.previousLegIndex?(console.log("change leg"),this.setState({previousLegIndex:this.props.legsColor.index,legColored:!0})):this.props.legsColor.index===this.state.previousLegIndex?(console.log("toggle leg"),this.toggleColor("leg")):console.error("An error in the leg index logic")),this.props.completedColorsCounter!==e.completedColorsCounter&&(console.log(this.props),this.state.completedColorsCounter!==this.props.completedColorsCounter?(console.log("toggle"),this.toggleColor("complete"),this.setState({completedColorsCounter:this.props.completedColorsCounter})):console.error("An error in the complete index logic"))}},{key:"render",value:function(){return this.props.toRender&&this.props.toRender.length?a.a.createElement(a.a.Fragment,null,this.renderBoxes()):a.a.createElement("div",null,"No Boxes yet!")}}]),t}(a.a.Component),m=r(26),v=r(67);var C=function(e){return e.coords?e.coords.map(function(e,t){var r,o=(r={},Object(m.a)(r,e.directions.xDir,e.pixels.moveX.toString()+"px"),Object(m.a)(r,e.directions.yDir,e.pixels.moveY.toString()+"px"),r);return a.a.createElement(v.a,{key:t},a.a.createElement(v.c,null,function(e){return e.ref,a.a.createElement("div",{className:"stop-marker",style:o})}),a.a.createElement(v.b,{placement:"right"},function(e){var t=e.ref,r=e.style,o=e.placement,s=e.arrowProps;return a.a.createElement("div",{ref:t,style:r,"data-placement":o},"Popper element",a.a.createElement("div",{ref:s.ref,style:s.style}))}))}):null};var f=function(e){var t;if(!e.coords)return null;var r=e.coords,o=e.coords.id,s=(t={},Object(m.a)(t,r.directions.xDir,r.pixels.moveX.toString()+"px"),Object(m.a)(t,r.directions.yDir,r.pixels.moveY.toString()+"px"),Object(m.a)(t,"--driver-color",e.colors[o]),t);return a.a.createElement("div",{className:"truck",style:s})},b=r(20),y=r(131),x=r.n(y),S=r(132),k=r.n(S),E=r(133),D=r.n(E),O=r(25),A=r.n(O),I=r(63),L=r.n(I),j=r(66),T=r.n(j),N=r(64),w=r.n(N),M=r(65),B=r.n(M),F=r(81),X=r.n(F),Y=r(79),R=r.n(Y),_=r(78),P=r.n(_),H=r(80),W=r.n(H),z=function(e){function t(){var e,r;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={leg:"",labelWidth:0},r.handleChange=function(e){return function(t){r.setState(Object(m.a)({},e,t.target.value))}},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:n.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement("div",{className:t.root},a.a.createElement(P.a,{variant:"outlined",className:t.formControl},a.a.createElement(R.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-native-simple"},"Legs"),a.a.createElement(W.a,{native:!0,value:this.props.value,onChange:this.props.onChange,input:a.a.createElement(X.a,{name:"driver"===this.props.type?"driver-select":"color-select",labelWidth:this.state.labelWidth,id:"outlined-age-native-simple"})},a.a.createElement("option",{value:""}),this.props.legs.map(function(t,r){return a.a.createElement("option",{key:r,value:e.state.value},t.legID)}))))}}]),t}(a.a.Component),G=Object(b.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(z),J=r(123),K=r.n(J);var V=Object(b.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"}}})(function(e){var t=e.classes;return a.a.createElement(K.a,{variant:"contained",type:e.type,size:e.size,color:e.color,className:"".concat(e.type," button ").concat(t.button),"data-number":e.buttonNumber,onClick:e.onClick},e.text)}),q=r(39),Z=r.n(q),$=function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}},U=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(){var e=this;return a.a.createElement("div",{className:"progress-input-wrapper form-child"},a.a.createElement(Z.a,{value:this.props.driverProgressInput,id:"standard-name",label:"Progress",placeholder:"Progres in Percent",className:"".concat($.textField," progress-input"),name:"progress-input",onChange:function(t){return e.props.onChange(t)},margin:"normal"}))}},{key:"render",value:function(){var e=this;return this.props.legs?a.a.createElement("div",{className:"legs-container"},a.a.createElement("form",{name:"driver"===this.props.type?"driver-dropdown":"color",onSubmit:function(t){return e.props.onSubmit(t)}},a.a.createElement("label",{className:"form-child"},"driver"===this.props.type?this.props.texts.driverText:this.props.texts.colorText,a.a.createElement(G,{legs:this.props.legs,value:this.state.value,onChange:this.props.onChange,type:"driver"===this.props.type?"driver":"color"},a.a.createElement("option",null),this.props.legs.map(function(t,r){return a.a.createElement("option",{key:r,value:e.state.value},t.legID)}))),"driver"===this.props.type?this.renderInput():null,a.a.createElement(V,{type:"submit",value:"Submit",size:"large",color:"primary",text:"Toggle Leg"}))):null}}]),t}(a.a.Component),Q=function(e){function t(){var e,r;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={},r.handleChange=function(e){return function(t){r.setState(Object(m.a)({},e,t.target.value))}},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement("form",{className:"".concat(t.container," material-form"),noValidate:!0,autoComplete:"off",name:"driver-form",onSubmit:function(t){return e.props.onSubmit(t)}},this.props.values?a.a.createElement(a.a.Fragment,null,a.a.createElement(Z.a,{id:"standard-name",label:"X-coords",placeholder:"1-200",className:t.textField,value:this.props.values.x,onChange:this.props.onChange,margin:"normal",name:"x"}),a.a.createElement(Z.a,{id:"standard-name",label:"Y-coords",placeholder:"1-200",className:t.textField,value:this.props.values.y,onChange:this.props.onChange,margin:"normal",name:"y"})):a.a.createElement(a.a.Fragment,null,a.a.createElement(Z.a,{id:"standard-name",label:"X-coords",placeholder:"1-200",className:t.textField,onChange:this.props.onChange,margin:"normal",name:"x"}),a.a.createElement(Z.a,{id:"standard-name",label:"Y-coords",placeholder:"1-200",className:t.textField,onChange:this.props.onChange,margin:"normal",name:"y"})),a.a.createElement(V,{size:"large",color:"primary",type:"primary-button",text:"Submit",buttonNumber:3}))}}]),t}(a.a.Component),ee=Object(b.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}})(Q),te=function(e){function t(){var e,r;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={expanded:null},r.handleChange=function(e){return function(t,o){r.setState({expanded:!!o&&e})}},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.expanded;return a.a.createElement("div",{className:e.root},a.a.createElement(L.a,{className:"top-panel",expanded:"panel1"===t,onChange:this.handleChange("panel1")},a.a.createElement(w.a,{expandIcon:a.a.createElement(B.a,null)},a.a.createElement(A.a,{className:e.heading},"Set Driver Coordinates"),a.a.createElement(A.a,{className:e.secondaryHeading},"Set driver postion with coordinates.")),a.a.createElement(T.a,null,a.a.createElement(ee,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,values:this.props.values}),a.a.createElement(A.a,null))),a.a.createElement(L.a,{className:"top-panel",expanded:"panel2"===t,onChange:this.handleChange("panel2")},a.a.createElement(w.a,{expandIcon:a.a.createElement(B.a,null)},a.a.createElement(A.a,{className:e.heading},"Set Driver Leg"),a.a.createElement(A.a,{className:e.secondaryHeading},"Set driver position with leg and progress.")),a.a.createElement(T.a,{className:"second-panel"},a.a.createElement(U,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,legs:this.props.legs?this.props.legs:null,type:"driver",texts:this.props.texts}),a.a.createElement(A.a,null))),a.a.createElement(L.a,{className:"top-panel",expanded:"panel3"===t,onChange:this.handleChange("panel3")},a.a.createElement(w.a,{expandIcon:a.a.createElement(B.a,null)},a.a.createElement(A.a,{className:e.heading},"Legs & Progress"),a.a.createElement(A.a,{className:e.secondaryHeading},"Highlight completed route and legs.")),a.a.createElement(T.a,{className:"third-panel"},a.a.createElement(U,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,legs:this.props.legs?this.props.legs:null,type:"color",texts:this.props.texts}),a.a.createElement(V,{size:"large",color:"primary",type:"secondary-button",text:"Progess",buttonNumber:2,onClick:this.props.onClick}),a.a.createElement(A.a,null))))}}]),t}(a.a.Component),re=Object(b.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(te),oe=r(125),ae=r.n(oe),se=r(124),ne=r.n(se);var le=Object(b.withStyles)(function(e){return{fab:{margin:e.spacing.unit,backgroundColor:"#2196f3"},extendedIcon:{marginRight:e.spacing.unit}}})(function(e){var t=e.classes;return a.a.createElement("div",null,a.a.createElement(ae.a,{size:"small",color:"primary","aria-label":"Add",className:"add-button button ".concat(t.fab),onClick:function(t){return e.onClick(t)},"data-number":e.number},function(e){return"add"===e.iconType?a.a.createElement(ne.a,null):"minus"===e.iconType?a.a.createElement("img",{className:"minus-svg",src:"./icons/remove_24px.svg"}):null}(e)))}),ie=r(126),ce=r.n(ie),ue=r(127),pe=r.n(ue);var de=Object(b.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"flex-end"},icon:{margin:2*e.spacing.unit,color:"#A0A0A0\t",fontSize:"12px",position:"absolute",right:"-7px",top:"0"},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:ce.a}}}})(function(e){var t=e.classes;return a.a.createElement("div",{className:t.root},a.a.createElement(pe.a,{className:"".concat(t.icon," close-icon"),color:"primary",tabIndex:"-1"},"close"))}),he=r(46),ge=r.n(he),me=r(128),ve=r.n(me),Ce=r(129),fe=r.n(Ce),be=r(130),ye=r.n(be),xe={root:{color:ge.a[600],"&$checked":{color:ge.a[500]}},checked:{}},Se=function(e){function t(){var e,r;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={checkedA:!0},r.handleChange=function(e){return function(t){r.props.onChange(t),r.setState(Object(m.a)({},e,t.target.checked))}},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.classes;return a.a.createElement(ve.a,{row:!0,className:"checkbox-container"},a.a.createElement(fe.a,{control:a.a.createElement(ye.a,{checked:this.state.checkedA,onChange:this.handleChange("checkedA"),value:"checkedA",name:"float-toggle"}),label:"Floating Controls"}))}}]),t}(a.a.Component),ke=Object(b.withStyles)(xe)(Se);function Ee(e){return a.a.createElement(A.a,{component:"div",style:{padding:24}},e.children)}var De=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){"float-toggle"!==e.target.name?r.setState({value:t}):r.props.onChange(e)},r.state={value:0,tabs:[{label:"Driver 1"}],numberOfTabs:1,hovered:!1},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"addTab",value:function(){var e=this.state.numberOfTabs+1;this.setState({numberOfTabs:e})}},{key:"subtractTab",value:function(e){if(this.state.numberOfTabs<2)console.log("cannot subtract single driver");else{var t=this.state.numberOfTabs-1;this.setState({numberOfTabs:t})}}},{key:"handleAddButtonClick",value:function(e){console.log(e),this.props.onClick(e),this.addTab()}},{key:"handleRemoveButtonClick",value:function(e){if(this.state.hovered){var t=parseInt(e.target.innerText.substring(13,14))-1;this.props.onClick("".concat(e.target.innerText," icon-click")),this.subtractTab(t)}}},{key:"mouseEvent",value:function(e){var t=e.target.getBoundingClientRect(),r=e.clientX-t.left;e.clientY-t.top<=27&&r>=60?this.setState({hovered:!0}):this.setState({hovered:!1})}},{key:"handleTabsClick",value:function(e){this.state.hovered||this.props.onClick(e.target.innerText)}},{key:"renderIcon",value:function(){return a.a.createElement("div",{tabIndex:"-1",className:"icon-wrapper"},a.a.createElement(de,null))}},{key:"render",value:function(){var e=this,t=this.props.classes,r=this.state.value;return this.props.driversArr?a.a.createElement("div",{className:t.root},a.a.createElement(x.a,{position:"static"},a.a.createElement(k.a,{classes:{indicator:t.indicator},className:"tabs-element",name:"tabs",value:this.props.selectedDriver,onChange:this.handleChange,onClick:this.handleTabsClick.bind(this)},this.props.driversArr.map(function(t,r){return a.a.createElement(D.a,{icon:e.renderIcon(),onMouseMove:e.mouseEvent.bind(e),label:t.name,key:r,onClick:e.handleRemoveButtonClick.bind(e)})}),a.a.createElement(le,{onClick:this.handleAddButtonClick.bind(this),iconType:"add"}),a.a.createElement(ke,null),a.a.createElement(V,{size:"small",color:"secondary",text:"Toggle Route",type:"secondary-button",onClick:this.props.onClick,buttonNumber:1}))),this.props.driversArr.map(function(t,o){return r===o&&a.a.createElement(Ee,{key:o},a.a.createElement(re,{onClick:e.props.onClick,onSubmit:e.props.onSubmit,onChange:e.props.onChange,values:e.props.values,legs:e.props.legs?e.props.legs:null,texts:e.props.texts}))})):null}}]),t}(a.a.Component),Oe=Object(b.withStyles)(function(e,t){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},indicator:{backgroundColor:t}}})(De),Ae=r(143),Ie=r(5),Le=r.n(Ie),je=r(134),Te=r.n(je),Ne=r(136),we=r.n(Ne),Me=r(137),Be=r.n(Me),Fe=r(138),Xe=r.n(Fe),Ye=r(82),Re=r.n(Ye),_e=r(62),Pe=r.n(_e),He=r(139),We=r.n(He),ze=r(83),Ge=r.n(ze),Je=r(135),Ke=r.n(Je),Ve={success:Te.a,warning:Ke.a,error:we.a,info:Be.a};var qe=Object(b.withStyles)(function(e){return{success:{backgroundColor:ge.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Re.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,r=e.className,o=e.message,s=e.onClose,n=e.variant,l=Object(Ae.a)(e,["classes","className","message","onClose","variant"]),i=Ve[n];return a.a.createElement(Ge.a,Object.assign({className:Le()(t[n],r),"aria-describedby":"client-snackbar",message:a.a.createElement("span",{id:"client-snackbar",className:t.message},a.a.createElement(i,{className:Le()(t.icon,t.iconVariant)}),o),action:[a.a.createElement(Pe.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:s},a.a.createElement(Xe.a,{className:t.icon}))]},l))}),Ze=function(e){function t(){var e,r;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={open:!1},r.handleClick=function(){console.log("click"),r.setState({open:!1})},r.handleClose=function(e,t){console.log("close"),r.setState({open:!1})},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(We.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.snackbarOpen,autoHideDuration:6e3,onClose:this.handleClose,onClick:this.props.onClick,"data-item":"hello"},a.a.createElement(qe,{onClose:this.handleClose,variant:"info",message:"Those coords are not part of the route."})))}}]),t}(a.a.Component),$e=Object(b.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(Ze),Ue=r(140),Qe=r(141),et=r(142),tt=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={utilsTop:"",colors:["red","Orange","DodgerBlue","MediumSeaGreen","Violet","SlateBlue","Tomato"],floatToggle:!0,snackbarOpen:!1,allColorsCounter:0,legColorsCounter:0,completedColorsCounter:0,colorType:"",loadingDataArr:[],selectedDriverIndex:0,createCounter:0,legs:Qe,stops:Ue,legToColorID:"",driverFormX:"",driverFormY:"",driverLegInput:"",driversArr:[],driverProgressInput:"",currentDriver:"",driverLegStart:"",driverCoords:"",positionSelect:"coords",startingCellNumAll:39800,startingCellNumPartial:"",previousLegEndCell:0,previousStopX:0,previousStopY:0,previousLegX:0,previousLegY:0,partialLegStartCoords:"",partialLegEndCoords:"",boxesToRender:Array.from({length:4e4},function(e,t){return t}),holdAllStopColorIndexes:[],holdAllLegColorArrs:[],holdingCompletedArrs:[],finalStopColorArr:[],finalLegColorObj:[],finalCompletedColorsArr:[],finalDriverMoveObj:"",legStartEndCellNums:[],texts:{driverText:"Select leg for driver",colorText:"Select a Leg to color"}},r.handleChange=r.handleChange.bind(Object(h.a)(Object(h.a)(r))),r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"_convertToPixels",value:function(e,t){var r,o;return r=e>10?100+11*(e-=10):10*e,o=t>10?100+11*(t-=10):10*t,{moveX:parseInt(r),moveY:parseInt(o)}}},{key:"_numToMove",value:function(e,t,r){return"stop"===r?{tempX:Math.abs(this.state.previousStopX-e),tempY:Math.abs(this.state.previousStopY-t)}:"leg"===r?{tempX:Math.abs(this.state.previousLegX-e),tempY:Math.abs(this.state.previousLegY-t)}:void console.error("error in the num to move function")}},{key:"_absDiff",value:function(e,t){return{xDiff:Math.abs(e.x-t.x),yDiff:Math.abs(e.y-t.y)}}},{key:"_percentToCoords",value:function(e,t){return{xNum:Math.floor(.01*e.xDiff*t),yNum:Math.floor(.01*e.yDiff*t)}}},{key:"_getDriverCoords",value:function(e,t,r){var o,a,s=e.x,n=t.x,l=e.y,i=t.y,c=r.xNum,u=r.yNum;return s<n?o=s+c:s>=n?o=s-c:console.error("error in driver movement"),l<i?a=l+u:l>=i?a=l-u:console.error("error in driver movement"),{xToMove:o,yToMove:a}}},{key:"increaseDriverIdindex",value:function(){var e=this.state.createCounter+1;this.setState({createCounter:e})}},{key:"addNewDriver",value:function(){var e={directions:{xDir:"left",yDir:"bottom"},pixels:{moveX:0,moveY:0},id:this.state.createCounter,name:"driver ".concat(this.state.createCounter+1),color:this.state.colors[this.state.createCounter]},t=[];t.push(e);var r=this.state.driversArr.concat(t);this.setState({driversArr:r}),this.increaseDriverIdindex(),this.changeDriver("new-driver",e.id)}},{key:"changeDriver",value:function(e,t){"new-driver"===e?this.setState({selectedDriverIndex:t,colorType:""}):"change-driver"===e&&this.setState({selectedDriverIndex:t})}},{key:"removeDriver",value:function(e){var t=e.substring(6,14),r=this.state.driversArr.filter(function(e){return e.name===t.toLowerCase()&&e}),o=this.state.driversArr.indexOf(r[0]);this.state.driversArr.splice(o,1),this.setState({driversArr:this.state.driversArr})}},{key:"updateDriverwithData",value:function(e){var t=this.state.driversArr[this.state.selectedDriverIndex],r=e.activeLegID,o=r[0],a=r[1],s=this.state.stops.filter(function(e){return e.name===o}),n=this.state.stops.filter(function(e){return e.name===a}),l=this._absDiff(s[0],n[0]),i=parseInt(e.legProgress),c=this._percentToCoords(l,i),u=this._getDriverCoords(s[0],n[0],c),p=u.xToMove,d=u.yToMove,h=this._getDriverCoords(s[0],n[0],c),g=this._convertToPixels(p,d);t.pixels=g,t.data=e,t.driverCoords=h,this.state.driversArr[this.state.selectedDriverIndex]=t,this.setState({driversArr:this.state.driversArr})}},{key:"updateDriverWithCoords",value:function(){this._resetTruck();var e=this._setStopCoords("driver",this.state.driverFormX,this.state.driverFormY),t=this.state.driversArr[this.state.selectedDriverIndex];console.log("current driver",t);var r=Object(d.a)(this.state.driversArr);r[this.state.selectedDriverIndex].directions=e.directions,r[this.state.selectedDriverIndex].pixels=e.pixels,this.setState({driversArr:r});var o=this;setTimeout(function(){console.log(o.state)},500)}},{key:"colorCompleted",value:function(e){var t=this.state.driversArr[this.state.selectedDriverIndex],r=this.state.legs.filter(function(t){return t.legID===e});console.log(t);var o=this._legIndex(r[0].legID),a=this.state.legs.indexOf(r[0]),s=this.state.legs[a],n=this.state.stops.filter(function(e){return e.name===s.startStop}),l=this.state.stops.filter(function(e){return e.name===s.endStop}),i={x:n[0].x,y:n[0].y},c={x:l[0].x,y:l[0].y},u=this.state.legStartEndCellNums[o],p=u.start,h=(u.end,this.state.holdAllLegColorArrs.slice(0,o));this.setState({startingCellNumPartial:p,partialLegStartCoords:i,partialLegEndCoords:c,holdingCompletedArrs:Object(d.a)(h)}),this.legStartEnd(t.driverCoords.xToMove,t.driverCoords.yToMove,"partial")}},{key:"colorGrid",value:function(e,t,r){var o,a,s=[],n=e,l=t;for("all"===r&&(o=this.state.startingCellNumAll),n=this._numToMove(n,l,"stop").tempX,l=this._numToMove(n,l,"stop").tempY,0===this.state.previousStopX&&0===this.state.previousStopY&&(n-=1,l-=1,s.push(o));n&&l;)this.state.previousStopY<t?(o-=200,s.push(o)):this.state.previousStopY>t&&(o+=200,s.push(o)),this.state.previousStopX<e?(o+=1,s.push(o)):this.state.previousStopX>e&&(o-=1,s.push(o)),n-=1,l-=1;a=l||n;for(var i=0;i<a;i++)l?this.state.previousStopY<t?(o-=200,s.push(o)):this.state.previousStopY>t&&(o+=200,s.push(o)):n&&(this.state.previousStopX<e?(o+=1,s.push(o)):this.state.previousStopX>e&&(o-=1,s.push(o)));"all"===r&&this.setState({previousStopX:e,previousStopY:t,startingCellNumAll:o,holdAllStopColorIndexes:[].concat(Object(d.a)(this.state.holdAllStopColorIndexes),s)})}},{key:"legStartEnd",value:function(e,t,r){var o,a,s=[],n=e,l=t;"all"===r?0===this.state.previousLegEndCell?(o=this.state.startingCellNumAll,a=this.state.startingCellNumAll):(o=this.state.previousLegEndCell,a=this.state.previousLegEndCell):"partial"===r&&(a=this.state.startingCellNumPartial,this.setState({previousLegX:this.state.partialLegStartCoords.x,previousLegY:this.state.partialLegStartCoords.y}));var i,c=this._numToMove(n,l,"leg");for(n=c.tempX,l=c.tempY,0===this.state.previousLegX&&0===this.state.previousLegY&&(n-=1,l-=1,s.push(a));n&&l;)this.state.previousLegY<t?(a-=200,s.push(a)):this.state.previousLegY>t&&(a+=200,s.push(a)),this.state.previousLegX<e?(a+=1,s.push(a)):this.state.previousLegX>e&&(a-=1,s.push(a)),n-=1,l-=1;i=l||n;for(var u=0;u<i;u++)l?this.state.previousLegY<t?(a-=200,s.push(a)):this.state.previousLegY>t&&(a+=200,s.push(a)):n&&(this.state.previousLegX<e?(a+=1,s.push(a)):this.state.previousLegX>e&&(a-=1,s.push(a)));var p={start:o,end:a};"all"===r?this.setState({previousLegEndCell:a,previousLegX:e,previousLegY:t,legStartEndCellNums:[].concat(Object(d.a)(this.state.legStartEndCellNums),[p]),holdAllLegColorArrs:[].concat(Object(d.a)(this.state.holdAllLegColorArrs),[s])}):"partial"===r&&this.setState({previousStopX:e,previousStopY:t,startingCellNumPartial:a,holdingCompletedArrs:[].concat(Object(d.a)(this.state.holdingCompletedArrs),[s])})}},{key:"colorAllStops",value:function(){this.setState({finalStopColorArr:this.state.holdAllStopColorIndexes})}},{key:"colorCompletedStops",value:function(){console.log(this.state.holdingCompletedArrs);var e=[].concat.apply([],this.state.holdingCompletedArrs);console.log(e),this.setState({finalCompletedColorsArr:e})}},{key:"_getLegStartfromCoords",value:function(){var e=this,t=this.state.driversArr[this.state.selectedDriverIndex].driverCoords;console.log("driver coords",t);var r=this.state.stops.filter(function(r,o){var a=e.state.stops[o],s=e.state.stops[o+1];if(void 0!==s)return(t.y>a.y&&t.y<s.y||t.y<a.y&&t.y>s.y)&&(t.x>a.x&&t.x<s.x||t.x<a.x&&t.x>s.x)?(console.log("both are btw"),r):(t.y>a.y&&t.y<s.y||t.y<a.y&&t.y>s.y)&&t.x===a.x&&t.x===s.x?(console.log("y btw. x equal"),r):(t.x>a.x&&t.x<s.x||t.x<a.x&&t.x>s.x)&&t.y===a.y&&t.y===s.y?(console.log("x btw. y equal"),r):t.x===a.x&&t.y===a.y?(console.log("both equal"),r):null});return console.log("return firstStop",r),r}},{key:"_findPercentFromDriverCoords",value:function(e,t,r,o){var a,s,n,l,i=parseInt(e.x),c=parseInt(e.y),u=parseInt(t.x),p=parseInt(t.y);if(console.log(t),i<u?a=u-i:i>u?a=i-u:i===u?a=0:console.error("error in driver movement"),c<p?s=p-c:c>p?s=c-p:c===p?s=0:console.error("error in driver movement"),0===a&&(n=0),0===s&&(l=0),a&&0!==a&&(n=a/o),s&&0!==s&&(l=s/r),!n||!l){if(n)return 100*n;if(l)return 100*l}return 0===n&&0===l?0:o>r?n:o<r?l:o===r?n>=l?n:l:void console.error("An error occured in the percentage calcs")}},{key:"updateDriverData",value:function(){var e=this.state.driversArr[this.state.selectedDriverIndex];console.log("selectedDriver",this.state.selectedDriverIndex);var t=this._getLegStartfromCoords()[0];if(!t)return console.error("Not a map stop"),!1;var r=this.state.stops.indexOf(t),o=this.state.stops[r+1],a=this._absDiff(t,o),s=this._findPercentFromDriverCoords(t,e.driverCoords,a.yDiff,a.xDiff);console.log("percent",s),console.log(t.name);var n={activeLegID:this.state.legs.filter(function(e){return e.startStop===t.name})[0].legID,legProgress:s.toString()};console.log(n);var l=Object(d.a)(this.state.driversArr);return console.log(e),e.data=n,console.log(e),l[this.state.selectedDriverIndex]=e,console.log(l),this.setState({driversArr:l,selectedDriver:n}),!0}},{key:"_resetTruck",value:function(){this.setState({finalDriverMoveObj:{directions:{xDir:"left",yDir:"bottom"},pixels:{moveX:0,moveY:0}}})}},{key:"renderTrucks",value:function(e){var t=this;return this.state.driversArr?this.state.driversArr.map(function(e,r){return a.a.createElement(f,{coords:e,key:r,colors:t.state.colors,counter:t.state.createCounter})}):null}},{key:"handleStyle",value:function(){return this.state.floatToggle&&this.state.utilsTop?{bottom:this.state.utilsTop.toString()+"px"}:null}},{key:"render",value:function(){return a.a.createElement("main",{className:"page-container"},a.a.createElement("div",{className:"grid-container",style:this.handleStyle.bind(this)()},a.a.createElement("div",{className:"grid"},this.renderTrucks(),a.a.createElement(C,{coords:this.state.stopsDirsArr}),a.a.createElement(g,{toRender:this.state.boxesToRender,stopsColor:this.state.finalStopColorArr.length?this.state.finalStopColorArr:null,legsColor:this.state.finalLegColorObj?this.state.finalLegColorObj:null,completeColor:this.state.finalCompletedColorsArr.length?this.state.finalCompletedColorsArr:null,type:this.state.colorType,legColorsCounter:this.state.legColorsCounter,completedColorsCounter:this.state.completedColorsCounter,allColorsCounter:this.state.allColorsCounter,selectedDriver:this.state.selectedDriverIndex}))),a.a.createElement("div",{className:"".concat(this.state.floatToggle?"float-toggle":""," utils-container")},a.a.createElement("div",{className:"driver-controls"},a.a.createElement(Oe,{onChange:this.handleChange.bind(this),onSubmit:this.handleFormSubmit.bind(this),onClick:this.handleClick.bind(this),values:{x:this.state.driverFormX,y:this.state.driverFormY},legs:this.state.legs?this.state.legs:null,texts:this.state.texts,driversArr:this.state.driversArr.length?this.state.driversArr:null,colors:this.state.colors,selectedDriver:this.state.selectedDriverIndex}),a.a.createElement("i",{className:"fa fa-angle-right"}),a.a.createElement($e,{snackbarOpen:this.state.snackbarOpen,onClick:this.handleClick.bind(this)}))))}},{key:"toggleSnackbar",value:function(){this.state.snackbarOpen=!this.state.snackbarOpen,this.setState({snackbarOpen:this.state.snackbarOpen}),console.log(this.state.snackbarOpen)}},{key:"handleClick",value:function(e){if(e)if("string"===typeof e){if(e.includes("icon-click")&&e.includes("DRIVER"))this.state.driversArr.length>1&&this.removeDriver(e);else if(e.includes("DRIVER")&&!e.includes("icon-click")){var t=parseInt(e[e.length-2])-1;console.log(t),this.changeDriver("change-driver",t)}}else e.target.classList.contains("add-button")?(e.stopPropagation(),console.log(this.state.createCounter),this.addNewDriver()):e.target.classList.contains("secondary-button")?(e.stopPropagation(),"1"===e.target.dataset.number?(this.colorAllStops(),this.setState({allColorsCounter:this.state.allColorsCounter+1,colorType:"all"})):"2"===e.target.dataset.number&&(this.colorCompletedStops(),this.setState({completedColorsCounter:this.state.completedColorsCounter+1,colorType:"complete"}))):e.target.classList.contains("MuiButtonBase-root-59")&&e.target.classList.contains("MuiIconButton-root-163")&&(console.log(e.target.classList),this.setState({snackbarOpen:!1}))}},{key:"handleDropdownChange",value:function(e){console.log(e.target.name),"driver-select"===e.target.name?(console.log("here"),this.setState({driverLegInput:e.target.value})):"color-select"===e.target.name&&(console.log("he"),this.setState({value:e.target.value,legToColorID:e.target.value}))}},{key:"onDropdownSubmit",value:function(e){var t=this.state.driversArr[this.state.selectedDriverIndex];if(e.preventDefault(),"driver-dropdown"===e.target.name){if(!this.state.driverLegInput)return;var r;r=this.state.driverProgressInput?this.state.driverProgressInput:0;var o={activeLegID:this.state.driverLegInput,legProgress:r};t.data=o,this.setState({driversArr:this.state.driversArr});var a=this;setTimeout(function(){a.updateDriverwithData(t.data),a.colorCompleted(t.data.activeLegID),console.log(a.state)},100)}else"color"===e.target.name&&this.colorLeg(this.state.legToColorID)}},{key:"handleChange",value:function(e){if("x"===e.target.name)this.setState({driverFormX:e.target.value});else if("y"===e.target.name)this.setState({driverFormY:e.target.value});else if("position-select"===e.target.name);else if("driver-select"===e.target.name)this.setState({driverLegInput:e.target.value});else if("progress-input"===e.target.name)console.log("hi"),this.setState({driverProgressInput:e.target.value});else if("float-toggle"===e.target.name){this.state.floatToggle=!this.state.floatToggle,this.setState({floatToggle:this.state.floatToggle});var t=this;setTimeout(function(){t.scrollToBottom()})}"driver-select"===e.target.name?this.setState({driverLegInput:e.target.value}):"color-select"===e.target.name&&this.setState({value:e.target.value,legToColorID:e.target.value})}},{key:"handleFormSubmit",value:function(e){console.log(e.target.name),e.preventDefault();var t=this.state.driversArr[this.state.selectedDriverIndex];if(console.log(this.state.driversArr),console.log(this.state.selectedDriverIndex),"driver-dropdown"===e.target.name||"color"===e.target.name)this.onDropdownSubmit(e);else if("driver-form"===e.target.name){var r={};this.state.driverFormX?r.x=parseInt(this.state.driverFormX):r.x=t.driverCoords.x,this.state.driverFormY?r.y=parseInt(this.state.driverFormY):r.y=t.driverCoords.y,console.log(t),t.driverCoords=r,console.log(this.state.driversArr),this.setState({driverCoords:r}),this.updateDriverWithCoords();var o=this;setTimeout(function(){o.updateDriverData()?(o.colorCompleted(o.state.selectedDriver.activeLegID),console.log(o.state.selectedDriver.activeLegID),console.log(o.state)):o.toggleSnackbar()},100)}}},{key:"_legIndex",value:function(e){var t;switch(e){case"ZZ":t=0;break;case"AB":t=1;break;case"BC":t=2;break;case"CD":t=3;break;case"DE":t=4;break;case"EF":t=5;break;case"FG":t=6;break;case"GH":t=7;break;case"HI":t=8;break;case"IJ":t=9;break;case"JK":t=10;break;case"KL":t=11;break;default:console.error("Nothing in switch")}return t}},{key:"colorLeg",value:function(e){var t=this._legIndex(e),r={leg:this.state.holdAllLegColorArrs[t],index:t};console.log(r),this.setState({finalLegColorObj:r,legColorsCounter:this.state.legColorsCounter+1,colorType:"leg"})}},{key:"_setStopCoords",value:function(e,t,r){var o=this,a=[];if("stop"===e)setTimeout(function(){o.state.stops.length>0&&o.state.stops.forEach(function(e){var t={pixels:o._convertToPixels(e.x,e.y),directions:{xDir:"left",yDir:"bottom"}};a.push(t)}),o.setState({stopsDirsArr:a})},1050);else if("driver"===e){return{pixels:o._convertToPixels(t,r),directions:{xDir:"left",yDir:"bottom"}}}}},{key:"scrollToBottom",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"componentDidMount",value:function(){var e=this;this.setState({loadingDataArr:[].concat(Object(d.a)(this.state.loadingDataArr),[et])}),this.scrollToBottom();var t=document.querySelector(".utils-container");document.querySelector(".grid-container");setTimeout(function(){e.setState({utilsTop:t.offsetHeight})},500),setTimeout(function(){e.state.stops.map(function(t){e.legStartEnd(t.x,t.y,"all"),e.colorGrid(t.x,t.y,"all")}),e.addNewDriver(),e.updateDriverwithData(e.state.loadingDataArr[0]),e.colorCompleted(e.state.loadingDataArr[0].activeLegID)},100),this._setStopCoords("stop")}}]),t}(o.Component),rt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(tt,null)}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(a.a.createElement(rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,r){}},[[144,2,1]]]);
//# sourceMappingURL=main.a570b65d.chunk.js.map