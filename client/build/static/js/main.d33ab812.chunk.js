(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){e.exports=a(357)},154:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),o=a(25),n=a.n(o),l=(a(154),a(16)),i=a(17),c=a(21),u=a(18),p=a(20),h=(a(92),a(22)),d=a(42),m=a(29),g=a(87),v=a.n(g),f=a(128),C=a(26),b={_convertToPixels:function(e,t){var a,r;return e||(e=0),t||(t=0),a=e?100+11*(e-=10):10*e,r=t?100+11*(t-=10):10*t,{moveX:parseInt(a),moveY:parseInt(r)}},_numToMove:function(e,t,a){return"stop"===a?{tempX:Math.abs(this.state.previousStopX-e),tempY:Math.abs(this.state.previousStopY-t)}:"leg"===a?{tempX:Math.abs(this.state.previousLegX-e),tempY:Math.abs(this.state.previousLegY-t)}:void console.error("error in the num to move function")},_calcStartingCell:function(e){return parseInt(e.x)*parseInt(e.y)-parseInt(e.x)},_absDiff:function(e,t){return{xDiff:Math.abs(e.x-t.x),yDiff:Math.abs(e.y-t.y)}},_getDriverCoords:function(e,t,a){var r,s,o=e.x,n=t.x,l=e.y,i=t.y,c=a.xNum,u=a.yNum;return o<n?r=o+c:o>=n?r=o-c:console.error("error in driver movement"),l<i?s=l+u:l>=i?s=l-u:console.error("error in driver movement"),{x:r,y:s}},_percentToCoords:function(e,t){return{xNum:Math.floor(.01*e.xDiff*t),yNum:Math.floor(.01*e.yDiff*t)}},_findPercentFromDriverCoords:function(e,t,a,r){var s,o,n,l,i=parseInt(e.x),c=parseInt(e.y),u=parseInt(t.x),p=parseInt(t.y);if(i<u?s=u-i:i>u?s=i-u:i===u?s=0:console.error("error in driver movement"),c<p?o=p-c:c>p?o=c-p:c===p?o=0:console.error("error in driver movement"),0===s&&(n=0),0===o&&(l=0),s&&0!==s&&(n=s/r),o&&0!==o&&(l=o/a),!n||!l){if(n)return 100*n;if(l)return 100*l}return 0===n&&0===l?0:r>a?n:r<a?l:r===a?n>=l?n:l:void console.error("An error occured in the percentage calcs")},_makePlotJson:function(e){return e.map(function(e,t){return{name:String.fromCharCode(t+65),x:e.x,y:e.y}})},_toggleState:function(e){return!e}},y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={allColored:!1,legColored:!1,completeColored:!1,allColorsCounter:0,legColorsCounter:0,completedColorsCounter:0,previousLegIndex:""},a.BoxMarkup=a.BoxMarkup.bind(Object(C.a)(Object(C.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderBoxes",value:function(e){var t=this;if(this.props.toRender)return this.props.toRender.map(function(e,a){var r;switch(t.props.type){case"all":t.state.allColored?t.state.allColored&&(r=t.allColorsAddLogic(a)):r=t.allColorsRemoveLogic(a);break;case"leg":t.state.legColored?t.state.legColored&&(r=t.legColorsAddLogic(a)):r=t.legColorsRemoveLogic(a);break;case"complete":t.state.completeColored?t.state.completeColored&&(r=t.completedColorsAddLogic(a)):r=t.completedColorsRemoveLogic(a);break;default:r=s.a.createElement(t.BoxMarkup,{key:a,id:a})}return r})}},{key:"toggleColor",value:function(e){"all"===e?(console.log("opposite",this.state.allColored),this.setState({allColored:b._toggleState(this.state.allColored)})):"leg"===e?(console.log("opposite",this.state.legColored),this.setState({legColored:b._toggleState(this.state.legColored)})):"complete"===e&&(console.log("opposite",this.state.completeColored),this.setState({completeColored:b._toggleState(this.state.completeColored)}))}},{key:"allColorsAddLogic",value:function(e){var t=this.props.stopsColor,a=!!(t&&t.length&&t.includes(e));return s.a.createElement(this.BoxMarkup,{hasStopColor:a,key:e,id:e})}},{key:"allColorsRemoveLogic",value:function(e){var t=this.props.stopsColor,a=function(){if(t&&t.includes(e))return!1}();return s.a.createElement(this.BoxMarkup,{hasStopColor:a,key:e,id:e})}},{key:"legColorsAddLogic",value:function(e){var t=this.props.legsColor,a=!!((t=t.leg)&&t.length&&t.includes(e));return s.a.createElement(this.BoxMarkup,{hasLegColor:a,key:e,id:e})}},{key:"legColorsRemoveLogic",value:function(e){var t=this.props.legsColor;t=t.leg;var a=function(){if(t&&t.includes(e))return!1}();return s.a.createElement(this.BoxMarkup,{hasLegColor:a,key:e,id:e})}},{key:"completedColorsAddLogic",value:function(e){var t=this.props.completeColor,a=!!(t&&t.length&&t.includes(e));return s.a.createElement(this.BoxMarkup,{hasCompletionColor:a,key:e,id:e})}},{key:"completedColorsRemoveLogic",value:function(e){var t=this.props.completeColor,a=function(){if(t&&t.includes(e))return!1}();return s.a.createElement(this.BoxMarkup,{hasCompletionColor:a,key:e,id:e})}},{key:"BoxMarkup",value:function(e){var t="id".concat(e.id);return s.a.createElement("div",{id:t,key:e.id,className:"box ".concat(e.hasStopColor?"stop-color".concat(this.props.selectedDriver):""," ").concat(e.hasLegColor?"leg-color".concat(this.props.selectedDriver):""," ").concat(e.hasCompletionColor?"complete-color".concat(this.props.selectedDriver):"")})}},{key:"componentDidUpdate",value:function(e,t){this.props.allColorsCounter!==e.allColorsCounter&&(this.state.allColorsCounter!==this.props.allColorsCounter?(console.log("toggle"),this.toggleColor("all"),this.setState({allColorsCounter:this.props.allColorsCounter})):console.error("And error in the all index logic")),this.props.legColorsCounter!==e.legColorsCounter&&(this.props.legsColor.index!==this.state.previousLegIndex?(console.log("change leg"),this.setState({previousLegIndex:this.props.legsColor.index,legColored:!0})):this.props.legsColor.index===this.state.previousLegIndex?(console.log("toggle leg"),this.toggleColor("leg")):console.error("An error in the leg index logic")),this.props.completedColorsCounter!==e.completedColorsCounter&&(this.state.completedColorsCounter!==this.props.completedColorsCounter?(this.toggleColor("complete"),this.setState({completedColorsCounter:this.props.completedColorsCounter})):console.error("An error in the complete index logic"))}},{key:"render",value:function(){return this.props.toRender&&this.props.toRender.length?s.a.createElement(s.a.Fragment,null,this.renderBoxes()):s.a.createElement("div",null,"No Boxes yet!")}}]),t}(s.a.Component),S=a(72);var x=function(e){return e.coords?e.coords.map(function(t,a){var r,o=(r={},Object(h.a)(r,t.directions.xDir,t.pixels.moveX.toString()+"px"),Object(h.a)(r,t.directions.yDir,t.pixels.moveY.toString()+"px"),r);function n(e){return e.toggleStopNames?"block":"none"}return s.a.createElement(S.a,{key:a},s.a.createElement(S.c,null,function(e){var t=e.ref;return s.a.createElement("div",{ref:t,className:"stop-marker",style:o})}),s.a.createElement(S.b,{placement:"left"},function(t){var r=t.ref,o=t.style,l=t.placement,i=t.arrowProps;return s.a.createElement("div",{ref:r,style:Object(d.a)({},o,{backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",borderRadius:"5px",marginLeft:"20px",display:n(e)}),"data-placement":l},"stop".concat(a+1),s.a.createElement("div",{ref:i.ref,style:i.style}))}))}):null},k=a(19),E=a(131),O=a.n(E),j=a(89),N=a.n(j);var A=Object(k.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"flex-end"},icon:{margin:2*e.spacing.unit,color:"#A0A0A0\t",fontSize:"12px",position:"absolute",right:"-7px",top:"0"},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:O.a}}}})(function(e){var t=e.classes;return"stop"===e.type?s.a.createElement("div",{className:t.root},console.log("stop"),s.a.createElement(N.a,{ref:e.ref,className:"".concat(t.icon," stop-marker"),color:"primary",tabIndex:"-1",style:e.styles},e.strType)):s.a.createElement("div",{className:t.root},s.a.createElement(N.a,{className:"".concat(t.icon," ").concat(e.className),color:"primary",tabIndex:"-1",style:e.style},e.strType))});var w=function(e){var t;if(!e.coords)return null;var a=e.coords,r=e.coords.id,o=(t={},Object(h.a)(t,a.directions.xDir,a.pixels.moveX.toString()+"px"),Object(h.a)(t,a.directions.yDir,a.pixels.moveY.toString()+"px"),Object(h.a)(t,"--driver-color",e.colors[r]),t);return s.a.createElement("div",{className:"".concat(e.show?"show":"hide"," cursor-wrapper icon-wrapper"),style:o},s.a.createElement(A,{className:"cursor",strType:"place"}))},L=a(139),I=a.n(L),T=a(140),D=a.n(T),P=a(141),_=a.n(P),z=a(23),M=a.n(z),X=a(68),Y=a.n(X),R=a(71),F=a.n(R),B=a(69),G=a.n(B),W=a(70),H=a.n(W),V=a(85),q=a.n(V),J=a(49),K=a.n(J),U=a(48),Z=a.n(U),$=a(50),Q=a.n($),ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={leg:"",labelWidth:0},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:n.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("div",{className:t.root},s.a.createElement(Z.a,{variant:"outlined",className:t.formControl},s.a.createElement(K.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-native-simple"},"Legs"),s.a.createElement(Q.a,{native:!0,value:this.props.value,onChange:this.props.onChange,input:s.a.createElement(q.a,{name:"driver"===this.props.type?"driver-select":"color-select",labelWidth:this.state.labelWidth,id:"outlined-age-native-simple"})},s.a.createElement("option",{value:""}),this.props.legs.map(function(t,a){return s.a.createElement("option",{key:a,value:e.state.value},t.legID)}))))}}]),t}(s.a.Component),te=Object(k.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(ee),ae=a(133),re=a.n(ae);var se=Object(k.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"}}})(function(e){var t=e.classes;return s.a.createElement(re.a,{variant:"contained",type:e.type,size:e.size,color:e.color,className:"".concat(e.type," button ").concat(t.button),"data-number":e.buttonNumber,onClick:e.onClick},e.text)}),oe=a(32),ne=a.n(oe),le=function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}},ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(){var e=this;return s.a.createElement("div",{className:"progress-input-wrapper form-child"},s.a.createElement(ne.a,{value:this.props.driverProgressInput,id:"standard-name",label:"Progress",placeholder:"Progres in Percent",className:"".concat(le.textField," progress-input"),name:"progress-input",onChange:function(t){return e.props.onChange(t)},margin:"normal"}))}},{key:"render",value:function(){var e=this;return this.props.legs?s.a.createElement("div",{className:"legs-container"},s.a.createElement("form",{name:"driver"===this.props.type?"driver-dropdown":"color",onSubmit:function(t){return e.props.onSubmit(t)}},s.a.createElement("label",{className:"form-child"},"driver"===this.props.type?this.props.texts.driverText:this.props.texts.colorText,s.a.createElement(te,{legs:this.props.legs,value:this.state.value,onChange:this.props.onChange,type:"driver"===this.props.type?"driver":"color"},s.a.createElement("option",null),this.props.legs.map(function(t,a){return s.a.createElement("option",{key:a,value:e.state.value},t.legID)}))),"driver"===this.props.type?this.renderInput():null,s.a.createElement(se,{type:"submit",value:"Submit",size:"large",color:"primary",text:"Toggle Leg"}))):null}}]),t}(s.a.Component),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={formName:a.props.formname},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderFormType",value:function(e,t){return e.values&&!e.graphSize?s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a,{id:"standard-name",label:"X-coords",placeholder:"1-200",className:t.textField,value:e.values.x,onChange:e.onChange,margin:"normal",name:"x"}),s.a.createElement(ne.a,{id:"standard-name",label:"Y-coords",placeholder:"1-200",className:t.textField,value:e.values.y,onChange:e.onChange,margin:"normal",name:"y"})):e.values?e.values&&e.graphSize?s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{id:"graph-size-label"},"Graph Size"),s.a.createElement(ne.a,{id:"graph-size-form-x",label:"X length",placeholder:"1-100",className:t.textField,onChange:e.onChange,margin:"normal",name:"x"}),s.a.createElement(ne.a,{id:"graph-size-form-y",label:"Y height",placeholder:"1-100",className:t.textField,onChange:e.onChange,margin:"normal",name:"y"})):void 0:s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a,{id:"standard-name",label:"X-coords",placeholder:"1-200",className:t.textField,onChange:e.onChange,margin:"normal",name:"x"}),s.a.createElement(ne.a,{id:"standard-name",label:"Y-coords",placeholder:"1-200",className:t.textField,onChange:e.onChange,margin:"normal",name:"y"}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("form",{className:"".concat(t.container," ").concat(this.props.addedClass," material-form"),noValidate:!0,autoComplete:"off",name:this.state.formName,onSubmit:function(t){return e.props.onSubmit(t)}},this.renderFormType(this.props,t),s.a.createElement(se,{size:this.props.buttonsize,color:"primary",type:"primary-button",text:"Submit",buttonNumber:3}))}}]),t}(s.a.Component),ue=Object(k.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}})(ce),pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={expanded:null},a.handleChange=function(e){return function(t,r){a.setState({expanded:!!r&&e})}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.expanded;return s.a.createElement("div",{className:e.root},s.a.createElement(Y.a,{className:"top-panel",expanded:"panel1"===t,onChange:this.handleChange("panel1")},s.a.createElement(G.a,{expandIcon:s.a.createElement(H.a,null)},s.a.createElement(M.a,{className:e.heading},"Set Cursor Coordinates"),s.a.createElement(M.a,{className:e.secondaryHeading},"Set cursor place on grid.")),s.a.createElement(F.a,null,s.a.createElement(ue,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,values:this.props.values,formname:"driver-form",buttonsize:"large"}),s.a.createElement(M.a,null))),s.a.createElement(Y.a,{className:"top-panel",expanded:"panel2"===t,onChange:this.handleChange("panel2")},s.a.createElement(G.a,{expandIcon:s.a.createElement(H.a,null)},s.a.createElement(M.a,{className:e.heading},"Set Cursor Leg"),s.a.createElement(M.a,{className:e.secondaryHeading},"Set cursor inside legs at progress points.")),s.a.createElement(F.a,{className:"second-panel"},s.a.createElement(ie,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,legs:this.props.legs?this.props.legs:null,type:"driver",texts:this.props.texts}),s.a.createElement(M.a,null))),s.a.createElement(Y.a,{className:"top-panel",expanded:"panel3"===t,onChange:this.handleChange("panel3")},s.a.createElement(G.a,{expandIcon:s.a.createElement(H.a,null)},s.a.createElement(M.a,{className:e.heading},"Show Legs & Progress"),s.a.createElement(M.a,{className:e.secondaryHeading},"Highlight completed parts, and legs.")),s.a.createElement(F.a,{className:"third-panel"},s.a.createElement(ie,{onChange:this.props.onChange,onSubmit:this.props.onSubmit,legs:this.props.legs?this.props.legs:null,type:"color",texts:this.props.texts}),s.a.createElement(se,{size:"large",color:"primary",type:"secondary-button",text:"Progess",buttonNumber:2,onClick:this.props.onClick}),s.a.createElement(M.a,null))))}}]),t}(s.a.Component),he=Object(k.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(pe),de=a(134),me=a.n(de),ge=a(90),ve=a.n(ge);var fe=Object(k.withStyles)(function(e){return{fab:{margin:e.spacing.unit,backgroundColor:"#2196f3"},extendedIcon:{marginRight:e.spacing.unit}}})(function(e){var t=e.classes;return s.a.createElement("div",{className:"add-button-container"},s.a.createElement(me.a,{size:"small",color:"primary","aria-label":"Add",className:"add-button button ".concat(t.fab),onClick:function(t){return e.onClick(t)},"data-number":e.number},function(e){return"add"===e.iconType?s.a.createElement(ve.a,null):"minus"===e.iconType?s.a.createElement("img",{className:"minus-svg",src:"./icons/remove_24px.svg",alt:"minus sign"}):null}(e),s.a.createElement(ve.a,null)))}),Ce=a(47),be=a.n(Ce),ye=a(135),Se=a.n(ye),xe=a(136),ke=a.n(xe),Ee=a(137),Oe=a.n(Ee),je={root:{color:be.a[600],"&$checked":{color:be.a[500]}},checked:{}},Ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={checkedA:!1,checkedB:!1,checkedC:!1},a.handleChange=function(){return function(e){var t=a.props.value;a.props.onChange&&a.props.onChange(e),a.setState(Object(h.a)({},t,e.target.checked))}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"checkedState",value:function(){return"checkedA"===this.props.value?this.state.checkedA:"checkedB"===this.props.value?this.state.checkedB:"checkedC"===this.props.value?this.state.checkedC:void 0}},{key:"render",value:function(){this.props.classes;return s.a.createElement(Se.a,{row:!0,className:"checkbox-container"},s.a.createElement(ke.a,{control:s.a.createElement(Oe.a,{checked:this.checkedState(),onChange:this.handleChange(),value:this.props.value,name:this.props.name}),label:this.props.label}))}}]),t}(s.a.Component),Ae=Object(k.withStyles)(je)(Ne),we=a(138),Le=a.n(we);function Ie(e){return s.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){"float-toggle"!==e.target.name&&"toggle"!==e.target.name&&"stop-name-toggle"!==e.target.name?a.setState({value:a.props.selectedDriver}):a.props.onChange(e)},a.state={value:0,tabs:[{label:"Driver 1"}],numberOfTabs:1,hovered:!1,checkedA:!1,checkedB:!1,checkedC:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"addTab",value:function(){var e=this.state.numberOfTabs+1;this.setState({numberOfTabs:e})}},{key:"subtractTab",value:function(e){if(this.state.numberOfTabs<2)console.log("cannot subtract single driver");else{var t=this.state.numberOfTabs-1;this.setState({numberOfTabs:t})}}},{key:"handleAddButtonClick",value:function(e){this.props.onClick(e),this.addTab(),this.setState({value:this.props.selectedDriver})}},{key:"handleRemoveButtonClick",value:function(e){if(this.state.hovered){var t=parseInt(e.target.innerText.substring(13,14))-1;this.props.onClick({event:e,iconClick:!0,cursor:!0}),this.subtractTab(t)}}},{key:"mouseEvent",value:function(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;e.clientY-t.top<=27&&a>=60?this.setState({hovered:!0}):this.setState({hovered:!1})}},{key:"handleTabsClick",value:function(e){e.stopPropagation(),this.state.hovered||e.target.parentNode.parentNode.parentNode.classList.contains("tabs-element")||"button"===e.target.type&&e.target.dataset.key&&this.props.onClick({event:e,iconClick:!1,cursor:!0})}},{key:"renderIcon",value:function(){return s.a.createElement("div",{tabIndex:"-1",className:"icon-wrapper"},s.a.createElement(A,{className:"close-icon",strType:"close"}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.cursorArr?s.a.createElement("div",{className:t.root},s.a.createElement(I.a,{position:"static"},s.a.createElement(D.a,{classes:{indicator:t.indicator},className:"tabs-element",name:"tabs",value:this.props.selectedDriver,onChange:this.handleChange,onClick:this.handleTabsClick.bind(this)},this.props.cursorArr.map(function(t,a){return s.a.createElement("div",null,s.a.createElement(_.a,{"data-tip":"Click to Hide Cursor","data-key":a,icon:e.renderIcon(),onMouseMove:e.mouseEvent.bind(e),label:t.name,key:a,onClick:e.handleRemoveButtonClick.bind(e)}),s.a.createElement(Le.a,null))}),s.a.createElement(fe,{onClick:this.handleAddButtonClick.bind(this)}),s.a.createElement("div",{className:"checkboxes"},s.a.createElement(Ae,{checkedProps:this.state.checkedA,value:"checkedA",name:"float-toggle",label:"Floating Controls"}),s.a.createElement(Ae,{value:"checkedB",name:"stop-name-toggle",label:"Show Stop Names"})),s.a.createElement(se,{size:"small",color:"secondary",text:"Toggle Route",type:"secondary-button",onClick:this.props.onClick,buttonNumber:1}))),s.a.createElement(Ie,null,s.a.createElement(he,{onClick:this.props.onClick,onSubmit:this.props.onSubmit,onChange:this.props.onChange,values:this.props.values,legs:this.props.legs?this.props.legs:null,texts:this.props.texts}))):null}}]),t}(s.a.Component),De=Object(k.withStyles)(function(e,t){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},indicator:{backgroundColor:t}}})(Te),Pe=a(148),_e=a(5),ze=a.n(_e),Me=a(142),Xe=a.n(Me),Ye=a(144),Re=a.n(Ye),Fe=a(145),Be=a.n(Fe),Ge=a(146),We=a.n(Ge),He=a(83),Ve=a.n(He),qe=a(67),Je=a.n(qe),Ke=a(147),Ue=a.n(Ke),Ze=a(86),$e=a.n(Ze),Qe=a(143),et=a.n(Qe),tt={success:Xe.a,warning:et.a,error:Re.a,info:Be.a};var at=Object(k.withStyles)(function(e){return{success:{backgroundColor:be.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Ve.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,r=e.message,o=e.onClose,n=e.variant,l=Object(Pe.a)(e,["classes","className","message","onClose","variant"]),i=tt[n];return s.a.createElement($e.a,Object.assign({className:ze()(t[n],a),"aria-describedby":"client-snackbar",message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(i,{className:ze()(t.icon,t.iconVariant)}),r),action:[s.a.createElement(Je.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},s.a.createElement(We.a,{className:t.icon}))]},l))}),rt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1},a.handleClick=function(){console.log("click"),a.setState({open:!1})},a.handleClose=function(e,t){console.log("close"),a.setState({open:!1})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.snackbarOpen,autoHideDuration:6e3,onClose:this.handleClose,onClick:this.props.onClick,className:"snackbar"},s.a.createElement(at,{onClose:this.handleClose,variant:"info",message:"Those coords are not part of the route."})))}}]),t}(s.a.Component),st=Object(k.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(rt),ot=a(84),nt=a.n(ot),lt=a(55),it=a.n(lt),ct=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={value:"",name:"",xSelect:"",ySelect:""},a.handleChange=function(e){console.log(e.target.name),console.log(e.target.value),a.props.onChange(e),a.setState(Object(h.a)({},e.target.name,e.target.value))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("form",{className:e.root,autoComplete:"off"},s.a.createElement(Z.a,{className:"".concat(e.formControl," regular")},s.a.createElement(K.a,{htmlFor:"age-simple"},"X"),s.a.createElement(Q.a,{value:this.state.xSelect,onChange:this.handleChange,inputProps:{name:"xSelect",id:"x-simple-select"},ref:this.ref1},s.a.createElement(it.a,{value:""},s.a.createElement("em",null,"None")),this.props.cells.map(function(e,t){return s.a.createElement(it.a,{value:e+1,key:t},e+1)}))),s.a.createElement(Z.a,{className:e.formControl},s.a.createElement(K.a,{htmlFor:"age-simple"},"Y"),s.a.createElement(Q.a,{value:this.state.ySelect,onChange:this.handleChange,inputProps:{name:"ySelect",id:"y-simple-select"},ref:this.ref2},s.a.createElement(it.a,{value:""},s.a.createElement("em",null,"None")),this.props.cells.map(function(e,t){return s.a.createElement(it.a,{value:e+1,key:t},e+1)}))))}}]),t}(s.a.Component),ut=Object(k.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(ct);var pt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleOpen=function(t){e.setState({open:!0})},e.handleClose=function(t){e.setState({open:!1}),e.props.onChange(t)},e.state={open:!1,cells:""},e.makeRange=e.makeRange.bind(Object(C.a)(Object(C.a)(e))),e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"makeRange",value:function(){var e=this.props.cells;return Array.from({length:e},function(e,t){return t})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({open:e.props.open})},1e3)}},{key:"componentDidUpdate",value:function(){this.props.open!==this.state.open&&this.setState({open:this.props.open})}},{key:"handleSelectChange",value:function(e){this.props.onChange(e)}},{key:"handleSubmit",value:function(e){this.props.onSubmit(e)}},{key:"handleClick",value:function(e){e.stopPropagation(),e.target.classList&&e.target.classList.contains("close-icon")?this.handleClose(e):e.target.classList&&(e.target.classList.contains("modal-submit")||e.target.classList.contains("auto-plot-submit"))&&this.handleSubmit(e)}},{key:"renderIcon",value:function(){return s.a.createElement("div",{tabIndex:"-1",className:"icon-wrapper"},s.a.createElement(A,{className:"close-icon",strType:"close",onClick:this.handleClick.bind(this)}))}},{key:"renderInputModal",value:function(e){var t=this.makeRange(this.props.cells);return s.a.createElement(s.a.Fragment,null,s.a.createElement(nt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose,onClick:this.handleClick.bind(this)},s.a.createElement("div",{style:{width:"500px",display:"flex",justifyContent:"center",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:"".concat(e.paper," modal")},s.a.createElement("div",{className:"modal-col modal-left"},s.a.createElement(M.a,{variant:"h6",id:"modal-title"},"Set Graph Size"),s.a.createElement(ue,{graphSize:!0,onChange:this.handleSelectChange.bind(this),onSubmit:this.handleSubmit.bind(this),values:this.state.setGraphSize,formname:"graph-size",addedClass:"graph-size",buttonsize:"small"})),s.a.createElement("div",{className:"modal-center modal-col"},s.a.createElement(A,{className:"close-icon",strType:"close"}),s.a.createElement(M.a,{variant:"h6",id:"modal-title"},"Set Plot Points"),s.a.createElement(M.a,{variant:"subtitle1",id:"simple-modal-description"},s.a.createElement(ut,{cells:t,onChange:this.handleSelectChange.bind(this)})),s.a.createElement(M.a,{variant:"subtitle2",id:"simple-modal-description"},s.a.createElement("div",{className:"auto-plot"},s.a.createElement("span",{id:"auto-plot-span"},s.a.createElement("strong",null,"OR")),s.a.createElement(se,{type:"auto-plot-submit submit",value:"Submit",size:"small",color:"primary",text:"Auto",onClick:this.handleClick.bind(this)})))),s.a.createElement(ht,null),s.a.createElement("div",{className:"modal-right modal-col"},s.a.createElement(M.a,{variant:"h6",id:"modal-title"},"Points Plotted"),this.renderPlotsList(this.props),s.a.createElement(se,{type:" modal-submit submit",value:"Submit",size:"small",color:"secondary",text:"Graph"})))))}},{key:"renderPlotsList",value:function(e){if(e.plots)return s.a.createElement("div",{className:"plots-list-container"},s.a.createElement("ol",{className:"plots-list"},e.plots.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("strong",null,"X"),":",e.x,"\xa0\xa0\xa0 ",s.a.createElement("strong",null,"Y"),":",e.y)})))}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(s.a.Fragment,null,this.renderInputModal(e))}}]),t}(s.a.Component),ht=Object(k.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"}}})(pt),dt=ht,mt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._callStops=Object(f.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/stops");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),a.state={modalState:!0,setGraphSize:{x:"20",y:"20"},storeGraphSize:{x:"20",y:"20"},plotObjs:[],tempPlotObj:{x:"",y:""},cancelSlide:!1,sliderSlicedChunk:[],iconStartAtfirstStop:!1,sliderIndex:0,initialSliderChange:!0,sliderCoordsArrs:[],colors:["red","Orange","DodgerBlue","MediumSeaGreen","Violet","SlateBlue","Tomato"],floatToggle:!1,showStopNames:!1,snackbarOpen:!1,allColorsCounter:0,legColorsCounter:0,completedColorsCounter:0,colorType:"",loadingDataArr:[],cursorIndex:0,createCounter:0,legs:[],stops:[],jsonStops:[],stopsCopy:[],legToColorID:"",cursorFormX:"",cursorFormY:"",cursorLegInput:"",cursorArr:[],cursorInputProgress:"",currentCursor:"",startingCellNumAll:0,startingCellNumPartial:"",previousLegEndCell:0,previousStopX:0,previousStopY:0,previousLegX:0,previousLegY:0,partialLegStartCoords:"",partialLegEndCoords:"",boxesToRender:Array.from({length:100},function(e,t){return t}),holdAllStopColorIndexes:[],holdAllLegColorArrs:[],holdingCompletedArrs:[],finalStopColorArr:[],finalLegColorObj:[],finalCompletedColorsArr:[],finalDriverMoveObj:"",finalSliderCoords:[],legStartEndCellNums:[],texts:{driverText:"Select leg for driver",colorText:"Select a Leg to color"}},a.getWindowOffset=a.getWindowOffset.bind(Object(C.a)(Object(C.a)(a))),a.handleChange=a.handleChange.bind(Object(C.a)(Object(C.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(Object(C.a)(a))),a.handleClick=a.handleClick.bind(Object(C.a)(Object(C.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"createGraph",value:function(){var e=this,t=parseInt(this.state.setGraphSize.x)*parseInt(this.state.setGraphSize.y);t?(e.setState({boxesToRender:Array.from({length:t},function(e,t){return t})}),function(){var t=document.documentElement;t.style.setProperty("--graph-size-x",e.state.setGraphSize.x),t.style.setProperty("--graph-size-y",e.state.setGraphSize.y)}(),setTimeout(function(){e.setState({startingCellNumAll:b._calcStartingCell(e.state.setGraphSize)}),e.calcRowVariaion()})):console.error("No cell values")}},{key:"_numToMove",value:function(e,t,a){return"stop"===a?{tempX:Math.abs(this.state.previousStopX-e),tempY:Math.abs(this.state.previousStopY-t)}:"leg"===a?{tempX:Math.abs(this.state.previousLegX-e),tempY:Math.abs(this.state.previousLegY-t)}:void console.error("error in the num to move function")}},{key:"_percentToCoords",value:function(e,t){return{xNum:Math.floor(.01*e.xDiff*t),yNum:Math.floor(.01*e.yDiff*t)}}},{key:"increaseCursorIdindex",value:function(){var e=this.state.createCounter+1;this.setState({createCounter:e})}},{key:"addNewCursor",value:function(){var e={directions:{xDir:"left",yDir:"bottom"},pixels:{moveX:0,moveY:0},id:this.state.createCounter,name:"cursor ".concat(this.state.createCounter+1),color:this.state.colors[this.state.createCounter],show:!1},t=[];t.push(e);var a=this.state.cursorArr.concat(t);this.setState({cursorArr:a}),this.increaseCursorIdindex(),this.changeCursor("new-cursor",e.id)}},{key:"changeCursor",value:function(e,t){"new-cursor"===e?this.setState({cursorIndex:t,colorType:""}):"change-cursor"===e&&this.setState({cursorIndex:t})}},{key:"removeDriver",value:function(e){for(var t=e.event.target.dataset.key,a=this.state.cursorArr.filter(function(e){return e.name===t.toLowerCase()&&e}),r=this.state.cursorArr.length-1;r>=0;r--)a[0].id>this.state.cursorArr[r].id&&this.changeCursor("change-cursor",this.state.cursorArr[r].id);var s=this;setTimeout(function(){var e=s.state.cursorArr.indexOf(a[0]);s.state.cursorArr.splice(e,1),s.setState({cursorArr:s.state.cursorArr})})}},{key:"updateCursorwithData",value:function(e){var t=this.state.cursorArr[this.state.cursorIndex],a=e.activeLegID,r=a[0],s=a[1],o=this.state.stops.filter(function(e){return e.name===r}),n=this.state.stops.filter(function(e){return e.name===s}),l=b._absDiff(o[0],n[0]),i=parseInt(e.legProgress),c=b._percentToCoords(l,i),u=b._getDriverCoords(o[0],n[0],c),p=u.x,h=u.y,d=b._getDriverCoords(o[0],n[0],c),m=b._convertToPixels(p,h);t.pixels=m,t.data=e,t.driverCoords=d;var g=this.state.cursorArr.slice();g[this.state.cursorIndex]=t,this.setState({cursorArr:g})}},{key:"updateDriverWithCoords",value:function(e,t){var a=this.state.cursorArr[this.state.cursorIndex],r=Object(m.a)(this.state.cursorArr);"form"===t?(this._resetCursor(),e=this._setStopCoords("driver",this.state.cursorFormX,this.state.cursorFormY)):"checkbox"===t?this.state.iconStartAtfirstStop?(e=this._setStopCoords("driver",e.x,e.y),a.driverCoords.x=this.state.stops[0].x,a.driverCoords.y=this.state.stops[0].y,console.log("S",a),this.setState({cursorArr:r}),this.updateDriverData()):this.state.iconStartAtfirstStop||(e=this._setStopCoords("driver",e.x,e.y),a.driverCoords.x=0,a.driverCoords.y=0,this.setState({cursorArr:r}),this.updateDriverData()):"slider"===t?e=this._setStopCoords("driver",e.x,e.y):"manual"===t&&(this._resetCursor(),e=this._setStopCoords("driver",e.x,e.y),r[this.state.cursorIndex].driverCoords={x:0,y:0}),e.pixels.moveX=e.pixels.moveX-30,r[this.state.cursorIndex].directions=e.directions,r[this.state.cursorIndex].pixels=e.pixels,this.setState({cursorArr:r})}},{key:"colorCompleted",value:function(e,t){var a=this.state.cursorArr[this.state.cursorIndex],r=this.state.legs.filter(function(t){return t.legID===e}),s=this._legIndex(r[0].legID),o=this.state.legs.indexOf(r[0]),n=this.state.legs[o],l=this.state.stops.filter(function(e){return e.name===n.startStop}),i=this.state.stops.filter(function(e){return e.name===n.endStop}),c={x:l[0].x,y:l[0].y},u={x:i[0].x,y:i[0].y},p=this.state.legStartEndCellNums[s],h=this.state.holdAllLegColorArrs.slice(0,s);this.setState({startingCellNumPartial:p,partialLegStartCoords:c,partialLegEndCoords:u,holdingCompletedArrs:Object(m.a)(h)}),"data"===t?this.legStartEnd(a.driverCoords.x,a.driverCoords.y,"partial"):"coords"===t&&this.legStartEnd(a.driverCoords.x,a.driverCoords.y,"partial")}},{key:"calcRowVariaion",value:function(){this.setState({moveRowCells:parseInt(this.state.setGraphSize.x)})}},{key:"colorGrid",value:function(e,t,a){var r,s,o=[],n=e,l=t;for("all"===a&&(r=this.state.startingCellNumAll),n=this._numToMove(n,l,"stop").tempX,l=this._numToMove(n,l,"stop").tempY,0===this.state.previousStopX&&0===this.state.previousStopY&&(n-=1,l-=1,o.push(r));n&&l;)this.state.previousStopY<t?(r-=this.state.moveRowCells,o.push(r)):this.state.previousStopY>t&&(r+=this.state.moveRowCells,o.push(r)),this.state.previousStopX<e?(r+=1,o.push(r)):this.state.previousStopX>e&&(r-=1,o.push(r)),n-=1,l-=1;s=s=l||n;for(var i=0;i<s;i++)l?this.state.previousStopY<t?(r-=this.state.moveRowCells,o.push(r)):this.state.previousStopY>t&&(r+=this.state.moveRowCells,o.push(r)):n&&(this.state.previousStopX<e?(r+=1,o.push(r)):this.state.previousStopX>e&&(r-=1,o.push(r)));"all"===a&&this.setState({previousStopX:e,previousStopY:t,startingCellNumAll:r,holdAllStopColorIndexes:[].concat(Object(m.a)(this.state.holdAllStopColorIndexes),o)})}},{key:"legStartEnd",value:function(e,t,a){var r,s,o,n=[],l=e,i=t;"all"===a?0===this.state.previousLegEndCell?(r=this.state.startingCellNumAll,s=this.state.startingCellNumAll):(r=this.state.previousLegEndCell,s=this.state.previousLegEndCell):"partial"===a&&(s=this.state.startingCellNumPartial,this.setState({previousLegX:this.state.partialLegStartCoords.x,previousLegY:this.state.partialLegStartCoords.y}));var c=this._numToMove(l,i,"leg");for(l=c.tempX,i=c.tempY,0===this.state.previousLegX&&0===this.state.previousLegY&&(l-=1,i-=1,n.push(s));l&&i;)this.state.previousLegY<t?(s-=this.state.moveRowCells,n.push(s)):this.state.previousLegY>t&&(s+=this.state.moveRowCells,n.push(s)),this.state.previousLegX<e?(s+=1,n.push(s)):this.state.previousLegX>e&&(s-=1,n.push(s)),l-=1,i-=1;o=o=i||l;for(var u=0;u<o;u++)i?this.state.previousLegY<t?(s-=this.state.moveRowCells,n.push(s)):this.state.previousLegY>t&&(s+=this.state.moveRowCells,n.push(s)):l&&(this.state.previousLegX<e?(s+=1,n.push(s)):this.state.previousLegX>e&&(s-=1,n.push(s)));var p={start:r,end:s};"all"===a?this.setState({previousLegEndCell:s,previousLegX:e,previousLegY:t,legStartEndCellNums:[].concat(Object(m.a)(this.state.legStartEndCellNums),[p]),holdAllLegColorArrs:[].concat(Object(m.a)(this.state.holdAllLegColorArrs),[n])}):"partial"===a&&this.setState({previousStopX:e,previousStopY:t,startingCellNumPartial:s,holdingCompletedArrs:[].concat(Object(m.a)(this.state.holdingCompletedArrs),[n])})}},{key:"colorAllStops",value:function(){this.setState({finalStopColorArr:this.state.holdAllStopColorIndexes})}},{key:"colorCompletedStops",value:function(){console.log(this.state.holdingCompletedArrs);var e=[].concat.apply([],this.state.holdingCompletedArrs);this.setState({finalCompletedColorsArr:e})}},{key:"_getLegStartfromCoords",value:function(){var e=this,t=this.state.cursorArr[this.state.cursorIndex].driverCoords;return this.state.stops.filter(function(a,r){var s=e.state.stops[r],o=e.state.stops[r+1];return void 0!==o&&((t.y>s.y&&t.y<o.y||t.y<s.y&&t.y>o.y)&&(t.x>s.x&&t.x<o.x||t.x<s.x&&t.x>o.x)?a:(t.y>s.y&&t.y<o.y||t.y<s.y&&t.y>o.y)&&t.x===s.x&&t.x===o.x?a:(t.x>s.x&&t.x<o.x||t.x<s.x&&t.x>o.x)&&t.y===s.y&&t.y===o.y?a:t.x===s.x&&t.y===s.y?a:0===r&&a===e.state.stops[0]?a:null)})}},{key:"updateDriverData",value:function(){var e=this.state.cursorArr[this.state.cursorIndex],t=this._getLegStartfromCoords()[0];if(!t)return console.error("Not a map stop"),!1;var a=this.state.stops.indexOf(t),r=this.state.stops[a+1],s=b._absDiff(t,r),o=b._findPercentFromDriverCoords(t,e.driverCoords,s.yDiff,s.xDiff),n={activeLegID:this.state.legs.filter(function(e){return e.startStop===t.name})[0].legID,legProgress:o.toString()},l=Object(m.a)(this.state.cursorArr);return e.data=n,l[this.state.cursorIndex]=e,this.setState({cursorArr:l,selectedDriver:n}),!0}},{key:"_resetCursor",value:function(){this.setState({finalDriverMoveObj:{directions:{xDir:"left",yDir:"bottom"},pixels:{moveX:0,moveY:0}}})}},{key:"renderCursor",value:function(){var e=this;return this.state.cursorArr&&Array.isArray(this.state.cursorArr)?this.state.cursorArr.map(function(t,a){return s.a.createElement(w,{show:t.show,coords:t,key:a,colors:e.state.colors,counter:e.state.createCounter})}):null}},{key:"handleStyle",value:function(){return this.state.floatToggle&&this.state.utilsTop?{marginBottom:this.state.utilsTop.toString()+"px"}:null}},{key:"render",value:function(){return s.a.createElement("main",{className:"page-container"},s.a.createElement("div",{className:"water-mark"},"IN DEVELOPMENT "),"   ",s.a.createElement(dt,{open:this.state.modalState,cells:Math.sqrt(parseInt(this.state.setGraphSize.x)*parseInt(this.state.setGraphSize.y)),onChange:this.handleChange,onSubmit:this.handleSubmit,plots:this.state.plotObjs.length?this.state.plotObjs:void 0})," "," ",s.a.createElement("div",{className:"grid-container",style:this.handleStyle.bind(this)()},s.a.createElement("div",{className:"grid"}," "," "," ",this.renderCursor()," "," "," ",s.a.createElement(x,{coords:this.state.stopsDirsArr,toggleStopNames:this.state.showStopNames})," "," ",s.a.createElement(y,{toRender:this.state.boxesToRender,stopsColor:this.state.finalStopColorArr.length?this.state.finalStopColorArr:null,legsColor:this.state.finalLegColorObj?this.state.finalLegColorObj:null,completeColor:this.state.finalCompletedColorsArr.length?this.state.finalCompletedColorsArr:null,type:this.state.colorType,legColorsCounter:this.state.legColorsCounter,completedColorsCounter:this.state.completedColorsCounter,allColorsCounter:this.state.allColorsCounter,selectedDriver:this.state.cursorIndex})," "," ")," "," ")," "," ",s.a.createElement("div",{className:"".concat(this.state.floatToggle?"float-toggle":""," utils-container")},s.a.createElement("div",{className:"driver-controls"},s.a.createElement("div",{className:"upper-controls"},s.a.createElement(se,{onClick:this.handleClick,buttonNumber:4,size:"small",text:"Show Window",type:"primary-button",color:"default"}))," "," ",s.a.createElement(De,{onChange:this.handleChange,onSubmit:this.handleSubmit,onClick:this.handleClick,values:{x:this.state.cursorFormX,y:this.state.cursorFormY},legs:this.state.legs?this.state.legs:null,texts:this.state.texts,cursorArr:this.state.cursorArr.length?this.state.cursorArr:null,colors:this.state.colors,selectedDriver:this.state.cursorIndex})," "," ",s.a.createElement(st,{snackbarOpen:this.state.snackbarOpen,onClick:this.handleClick})," "," ")," "," ")," "," ")}},{key:"handleModalOpenClose",value:function(){this.setState({modalState:b._toggleState(this.state.modalState)})}},{key:"handleSliderChange",value:function(e){if(this.state.cancelSlide&&this.setState({cancelSlide:b._toggleState(this.state.cancelSlide)}),e.value){var t=function(){return s.state.previousState?s.state.currentState-s.state.previousState:s.state.currentState},a=function(){s.state.cancelSlide||(t()>0?s.setState({sliderIndex:s.state.sliderIndex+1}):t()<0&&s.setState({sliderIndex:s.state.sliderIndex-1}),console.log("index",s.state.sliderIndex))},r=function(){s.state.cancelSlide?console.log("CANCEL"):(console.log("state",s.state.finalSliderCoords),s.state.slideIndex||(console.log("state",s.state.finalSliderCoords),s.state.finalSliderCoords[s.state.sliderIndex]||s.state.finalSliderCoords[s.state.sliderIndex])?s.updateDriverWithCoords({x:s.state.finalSliderCoords[s.state.sliderIndex].x,y:s.state.finalSliderCoords[s.state.sliderIndex].y},"slider"):console.error("Cannot move backwards past beginning of graph."))};console.log("slider coords",this.state.sliderCoordsArrs),console.log("slider coords",this.state.finalSliderCoords),this.state.finalSliderCoords.length||this.setState({finalSliderCoords:this.state.sliderCoordsArrs.flat()}),console.log("final",this.state.finalSliderCoords);var s=this;!function(){var t;s.state.initialSliderChange?(t=0,s.setState({initialSliderChange:!1,previousState:t})):(t=s.state.currentState,s.setState({previousState:t}));var a=e.value;s.setState({currentState:a})}(),setTimeout(function(){console.log("val",s.state.currentState)},100);var o=0;!function e(){setTimeout(function(){t()>=0?(o<t()&&(a(),r(),e()),o+=1):t()<0&&(o>t()&&(a(),r(),e()),o-=1)},10)}(),t()}}},{key:"toggleSnackbar",value:function(){this.setState({snackbarOpen:b._toggleState(this.state.snackbarOpen)})}},{key:"hasParentClass",value:function(e,t){return e.className.split(" ").indexOf(t)>=0||e.parentElement&&this.hasParentClass(e.parentElement,t)}},{key:"toggleShowCursor",value:function(e){var t=this.state.cursorArr[this.state.cursorIndex];t.show=!t.show;var a=Object(m.a)(this.state.cursorArr);this.setState({cursorArr:a})}},{key:"handleClick",value:function(e){if(e)if(e.event&&e.iconClick&&e.cursor)this.state.cursorArr.length>1&&this.removeDriver(e);else if(e.event&&!e.iconClick&&e.cursor){var t=parseInt(e.event.target.dataset.key);this.changeCursor("change-cursor",t);var a=this;setTimeout(function(){a.toggleShowCursor(e)})}else e.target.classList.contains("add-button")?(e.stopPropagation(),this.addNewCursor()):e.target.classList.contains("secondary-button")?(e.stopPropagation(),"1"===e.target.dataset.number?(this.colorAllStops(),this.setState({allColorsCounter:this.state.allColorsCounter+1,colorType:"all"})):"2"===e.target.dataset.number&&(this.colorCompletedStops(),this.setState({completedColorsCounter:this.state.completedColorsCounter+1,colorType:"complete"}))):"button"===e.target.type&&this.hasParentClass(e.target,"snackbar")?this.setState({snackbarOpen:!1}):"4"===e.target.dataset.number&&e.target.classList.contains("button")&&this.setState({modalState:b._toggleState(this.state.modalState)})}},{key:"onDropdownSubmit",value:function(e){var t=this.state.cursorArr[this.state.cursorIndex];if(e.preventDefault(),"driver-dropdown"===e.target.name){if(!this.state.cursorLegInput)return;var a;a=this.state.cursorInputProgress?this.state.cursorInputProgress:0;var r={activeLegID:this.state.cursorLegInput,legProgress:a};t.data=r,this.setState({cursorArr:this.state.cursorArr});var s=this;setTimeout(function(){s.updateCursorwithData(t.data),s.colorCompleted(t.data.activeLegID)},100)}else"color"===e.target.name&&this.colorLeg(this.state.legToColorID)}},{key:"handleChange",value:function(e){if("x"===e.target.name&&e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size")){var t=e.target.value;this.setState(function(e){return{storeGraphSize:Object(d.a)({},e.storeGraphSize,{x:t})}})}else if("y"===e.target.name&&e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size")){var a=e.target.value;this.setState(function(e){return{storeGraphSize:Object(d.a)({},e.storeGraphSize,{y:a})}})}else if("x"!==e.target.name||e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size"))if("y"!==e.target.name||e.currentTarget.parentNode.parentNode.parentNode.classList.contains("graph-size")){if("driver-select"===e.target.name)this.setState({cursorLegInput:e.target.value});else if("progress-input"===e.target.name)this.setState({cursorInputProgress:e.target.value});else if("float-toggle"===e.target.name){var r=this.getWindowOffset();r&&this.setState({utilsTop:r,floatToggle:b._toggleState(this.state.floatToggle)})}else if("stop-name-toggle"===e.target.name)this.setState({showStopNames:b._toggleState(this.state.showStopNames)});else if("color-select"===e.target.name)this.setState({value:e.target.value,legToColorID:e.target.value});else if("icon-start"===e.target.name)this.toggleStartCheckbox();else if("xSelect"===e.target.name||"ySelect"===e.target.name||e.target.classList&&e.target.classList.contains("close-icon")||e.target.nextSibling&&e.target.nextSibling.classList.contains("modal"))if("xSelect"===e.target.name){this.setState(function(t){return{tempPlotObj:Object(d.a)({},t.tempPlotObj,{x:e.target.value})}});var s=this;setTimeout(function(){s.receivePlotData(s.state.tempPlotObj)})}else if("ySelect"===e.target.name){this.setState(function(t){return{tempPlotObj:Object(d.a)({},t.tempPlotObj,{y:e.target.value})}});var o=this;setTimeout(function(){o.receivePlotData(o.state.tempPlotObj)})}else e.target.classList.contains("close-icon")?this.handleModalOpenClose():e.target.nextSibling.classList.contains("modal")&&this.handleModalOpenClose()}else this.setState({cursorFormY:e.target.value});else this.setState({cursorFormX:e.target.value})}},{key:"receivePlotData",value:function(e){if(console.log(e),!e.x||!e.y)return console.error("Must have two plot points"),!1;this.setState({tempPlotObj:e,plotObjs:[].concat(Object(m.a)(this.state.plotObjs),[this.state.tempPlotObj])})}},{key:"toggleStartCheckbox",value:function(){var e,t,a;console.log(this.state.sliderSlicedChunk),this.state.iconStartAtfirstStop?(a=this.state.sliderCoordsArrs.splice(0,1),e=this.state.sliderCoordsArrs,t=10,this.updateDriverWithCoords({x:this.state.stops[0].x,y:this.state.stops[0].y},"checkbox")):(e=this.state.sliderSlicedChunk.concat(this.state.sliderCoordsArrs),console.log("slider",this.state.sliderCoordsArrs),t=0,this.updateDriverWithCoords({x:0,y:0},"checkbox")),this.setState({sliderSlicedChunk:a||this.state.sliderSlicedChunk,cancelSlide:!0,iconStartAtfirstStop:b._toggleState(this.state.iconStartAtfirstStop),sliderCoordsArrs:e,sliderIndex:t,finalSliderCoords:e.flat()})}},{key:"addStartStop",value:function(){var e=[{name:"A",x:0,y:0}].concat(this.state.stopsCopy);this.setState({stopsCopy:e})}},{key:"scrollToBottom",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"getWindowOffset",value:function(){var e=document.querySelector(".utils-container"),t=document.querySelector(".grid-container");return e.offsetHeight+t.offsetHeight>window.innerHeight&&e.offsetHeight}},{key:"componentDidMount",value:function(){var e=this;this.createGraph(),this.scrollToBottom();var t=document.querySelector(".utils-container");setTimeout(function(){e.setState({utilsTop:t.offsetHeight})},500),setTimeout(function(){e.addNewCursor(),e.updateDriverWithCoords({x:0,y:0},"manual")},100),setTimeout(function(){},500)}},{key:"sliderCoordsCalc",value:function(e,t,a){var r,s,o,n,l=[],i=e,c=t;i.length>=c.length?(o=i,n=c):(o=c,n=i);var u,p=i[i.length-1],d=c[c.length-1];i.length&&this.setState({lastXarr:p}),c.length&&this.setState({lastYarr:d});for(var g=0,v=0;v<o.length;v++){var f,C,b;if(n[v]&&n[v]!==r?r=n[v]:r?(s=r,this.setState({previousSmall:s})):s=this.state.previousSmall,g<n.length)f={},Object(h.a)(f,Object.keys(o[v])[0],Object.values(o[v])[0]),Object(h.a)(f,Object.keys(n[v])[0],Object.values(n[v])[0]),u=f,g++;else if(v>0)C={},Object(h.a)(C,Object.keys(o[v])[0],Object.values(o[v])[0]),Object(h.a)(C,Object.keys(s)[0],Object.values(s)[0]),u=C;else"x"===Object.keys(o[v])[0]?(s=this.state.lastYarr,this.setState({previousSmall:s})):(s=this.state.lastXarr,this.setState({previousSmall:s})),b={},Object(h.a)(b,Object.keys(o[v])[0],Object.values(o[v])[0]),Object(h.a)(b,Object.keys(s)[0],Object.values(s)[0]),u=b;l.push(u)}this.setState({sliderCoordsArrs:[].concat(Object(m.a)(this.state.sliderCoordsArrs),[l])})}},{key:"slideRange",value:function(e,t){if(e&&t){for(var a=[],r=[],s=e.x,o=e.y,n=this._numBetweenStops(e,t),l=n.xToMove,i=n.yToMove,c=!(l<0),u=!(i<0),p=0;p<Math.abs(i);p++)if(u){var h={y:o+(p+1)};a.push(h)}else{var d={y:o-(p+1)};a.push(d)}for(var m=0;m<Math.abs(l);m++)if(c){var g={x:s+(m+1)};r.push(g)}else{var v={x:o-(m+1)};r.push(v)}return{xSlideCoord:r,ySlideCoord:a}}}},{key:"_numBetweenStops",value:function(e,t){var a,r,s=e.x,o=t.x,n=e.y,l=t.y;return s>o?(a=s-o,a=-Math.abs(a)):a=o-s,n>l?(r=n-l,r=-Math.abs(r)):r=l-n,{xToMove:a,yToMove:r}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t,a=this;if("graph-size"===e.target.name){if((t=this.state.storeGraphSize).x!==t.y&&(console.error("X and Y must be equal"),alert("X and Y values must be equal"),1))return;this.setState({setGraphSize:this.state.storeGraphSize}),setTimeout(function(){console.log(a.state.setGraphSize),a.createGraph()},100)}var r=this.state.cursorArr[this.state.cursorIndex];if("driver-dropdown"===e.target.name||"color"===e.target.name)this.onDropdownSubmit(e);else if("driver-form"===e.target.name){var s={};this.state.cursorFormX?s.x=parseInt(this.state.cursorFormX):s.x=r.driverCoords.x,this.state.cursorFormY?s.y=parseInt(this.state.cursorFormY):s.y=r.driverCoords.y,r.driverCoords=s,this.updateDriverWithCoords("","form");var o=this;setTimeout(function(){o.updateDriverData()?o.colorCompleted(o.state.selectedDriver.activeLegID):o.toggleSnackbar()},100)}else e.target.classList&&e.target.classList.contains("modal-submit")?this.handlePlotLoading("manual"):e.target.classList&&e.target.classList.contains("auto-plot-submit")&&this.handlePlotLoading("auto")}},{key:"handlePlotLoading",value:function(e){var t=this,a=this;if("manual"===e){var r=b._makePlotJson(this.state.plotObjs);this.setState({stops:r}),this._setStopCoords("stop"),setTimeout(function(){a.legConstructor(a.state.stops),a.state.stops.forEach(function(e,t){a.legStartEnd(e.x,e.y,"all"),a.colorGrid(e.x,e.y,"all")})})}else"auto"===e&&this._callStops().then(function(e){t.setState({stops:e.stops,stopsCopy:e.stops,setGraphSize:{x:"100",y:"100"},plotObjs:e.stops}),t.createGraph(),t._setStopCoords("stop"),setTimeout(function(){a.legConstructor(a.state.stops),a.state.stops.forEach(function(e,t){a.legStartEnd(e.x,e.y,"all"),a.colorGrid(e.x,e.y,"all")})})})}},{key:"_legIndex",value:function(e){var t;switch(e){case"ZZ":t=0;break;case"AB":t=1;break;case"BC":t=2;break;case"CD":t=3;break;case"DE":t=4;break;case"EF":t=5;break;case"FG":t=6;break;case"GH":t=7;break;case"HI":t=8;break;case"IJ":t=9;break;case"JK":t=10;break;case"KL":t=11;break;default:console.error("Nothing in switch")}return t}},{key:"colorLeg",value:function(e){var t=this._legIndex(e),a={leg:this.state.holdAllLegColorArrs[t],index:t};this.setState({finalLegColorObj:a,legColorsCounter:this.state.legColorsCounter+1,colorType:"leg"})}},{key:"legConstructor",value:function(e){var t=e.map(function(t,a){return!!e[a+1]&&{startStop:t.name,endStop:e[a+1].name,legID:"".concat(t.name).concat(e[a+1].name)}}).filter(function(e){return e});this.setState({legs:t})}},{key:"_setStopCoords",value:function(e,t,a){var r=this,s=[];if("stop"===e)setTimeout(function(){r.state.stops.length>0&&r.state.stops.forEach(function(e){var t={pixels:b._convertToPixels(e.x,e.y),directions:{xDir:"left",yDir:"bottom"}};s.push(t)}),r.setState({stopsDirsArr:s})},1050);else if("driver"===e){return{pixels:b._convertToPixels(t,a),directions:{xDir:"left",yDir:"bottom"}}}}}]),t}(r.Component),gt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(mt,null)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.d33ab812.chunk.js.map